<html>
<head><meta charset="UTF-8"></head><h2>Archives, <a href="https://futureofcoding.org/community">Future of Coding Community</a>, #present-company</h2>
  <table>
  <tr>
    <td style="width:72px; vertical-align:top; padding-bottom:1em">
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 08:24</span><br/>
Calling all type nerds: my new job deals with a lot of encrypted data that shouldn't be transmitted in plaintext. We’ve just added sorbet to our rails project (gradual typechecker). I feel like I've read somewhere that it's possible to use types to enforce that kind of restriction. Does anyone have any experience using types for that (or links to talks/papers/blog posts)?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660578027.011019"></a>
      <img src="https://avatars.slack-edge.com/2018-07-09/395086754178_7f0f1c0238ec02befdab_72.jpg" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660578027.011019" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Mariano Guerra</b>
<span style="margin:2em; color:#606060">2022-08-15 08:40</span><br/>
Language-based information-flow security <a href="https://ieeexplore.ieee.org/abstract/document/1159651">https://ieeexplore.ieee.org/abstract/document/1159651</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660578161.041829"></a>
      <img src="https://avatars.slack-edge.com/2018-07-09/395086754178_7f0f1c0238ec02befdab_72.jpg" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660578161.041829" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Mariano Guerra</b>
<span style="margin:2em; color:#606060">2022-08-15 08:42</span><br/>
you may find more searching for "tainted data", "taint propagation" and similar
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660578515.363409"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660578515.363409" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 08:48</span><br/>
for anyone looking, here's the preprint: <a href="https://www.cs.cornell.edu/andru/papers/jsac/sm-jsac03.pdf">https://www.cs.cornell.edu/andru/papers/jsac/sm-jsac03.pdf</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660578888.786369"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660578888.786369" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 08:54</span><br/>
<span style="background-color:#ccf">@Cole Lawrence</span> 
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660578970.711569"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660578970.711569" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 08:56</span><br/>
i'm almost imagining something like a NoTransmit&lt;a&gt; getting returned from the decryption function and delegating all the methods to the member… but then using some kind of exclusion logic on methods that transmit data to the client. or like have the transmission methods only accept Encrypted&lt;a&gt; for certain values of a. is that too wild?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660579515.111989"></a>
      <img src="https://avatars.slack-edge.com/2025-02-08/8407560079991_6d3ec7cc938bc2e0cdb7_72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660579515.111989" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Cole Lawrence</b>
<span style="margin:2em; color:#606060">2022-08-15 09:05</span><br/>
I might be harebrained to say this. But, my initial thought is to have a kind of encrypted dictionary of information + a centralized security master with an access log.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660579556.289779"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660579556.289779" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 09:05</span><br/>
the company is SOC 2 compliant—encryption at rest and in transit is already happening 
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660579591.881269"></a>
      <img src="https://avatars.slack-edge.com/2025-02-08/8407560079991_6d3ec7cc938bc2e0cdb7_72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660579591.881269" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Cole Lawrence</b>
<span style="margin:2em; color:#606060">2022-08-15 09:06</span><br/>
Ah, so this is just a type design question?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660579667.831009"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660579667.831009" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 09:07</span><br/>
yeah the scenario is basically: the server decrypts some data for a calculation, then asks an api a question or sends some data to a client, while accidentally including some personally identifiable info. we catch it in code reviews but i was was wondering if there was a way to catch it at compile time
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660579912.305439"></a>
      <img src="https://avatars.slack-edge.com/2025-02-08/8407560079991_6d3ec7cc938bc2e0cdb7_72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660579912.305439" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Cole Lawrence</b>
<span style="margin:2em; color:#606060">2022-08-15 09:11</span><br/>
Something simple could be to always return decrypted data back to the user code under a <tt>{ $dec: ___ }</tt> key, so then, you would always have to access the decrypted data by using <tt>respJson.userName.$dec</tt> then, you can write a linter to statically check all use-sites accesses of the decrypted data.<br/><br/>Just spit balling. This could obv be modified to some other tools in Ruby
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660579948.273689"></a>
      <img src="https://avatars.slack-edge.com/2025-02-08/8407560079991_6d3ec7cc938bc2e0cdb7_72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660579948.273689" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Cole Lawrence</b>
<span style="margin:2em; color:#606060">2022-08-15 09:12</span><br/>
Or, it's easier to lint with your eyes...
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660580033.074959"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660580033.074959" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 09:13</span><br/>
yeah i'm pretty much trying to figure out how to encode that with a type—the decryption process is really clever, so it basically feels like you're using a regular rails object even though it's encrypted in memory. that's really nice for ergonomics and not having to update the whole codebase but it also means there's no guardrail to prevent you from sending it somewhere. maybe the answer is just to look through the encryption/decryption code and see if there's an obvious spot for a shim 
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660580072.115619"></a>
      <img src="https://avatars.slack-edge.com/2018-07-09/395086754178_7f0f1c0238ec02befdab_72.jpg" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660580072.115619" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Mariano Guerra</b>
<span style="margin:2em; color:#606060">2022-08-15 09:14</span><br/>
a data type that throws when encoded/decoded? (if that's a thing in ruby)
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660580096.574949"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660580096.574949" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 09:14</span><br/>
so we want it to be decoded for use. we just don't want the decoded data sent off the server 
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660580166.758879"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660580166.758879" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 09:16</span><br/>
or saved without encryption (very unlikely because the save instructions etc get interrupted by an encrypt-first proxy afaict)
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660580298.124039"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660580298.124039" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 09:18</span><br/>
this is kind of like the expression problem tbh: it's really easy in a dynamic OO PL to make sure that data gets encrypted/decrypted for save and use but it's really hard when we start calling functions like ‘<tt>respond_to</tt>’ or ‘<tt>to_json</tt>’ with that data as arguments or values deep in a hash somewhere 
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660580389.163469"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660580389.163469" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 09:19</span><br/>
i'm hoping there's some way to make that data a wrapped type that complains only when it's going over the wire
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660580516.270109"></a>
      <img src="https://avatars.slack-edge.com/2025-02-08/8407560079991_6d3ec7cc938bc2e0cdb7_72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660580516.270109" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Cole Lawrence</b>
<span style="margin:2em; color:#606060">2022-08-15 09:21</span><br/>
Sounds almost like sonarqube control flow analysis type stuff. Tracking when a piece of data was unwrapped and where it goes in order to detect this type of issue statically.<br/><br/>Not really an answer...
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660580684.162459"></a>
      <img src="https://avatars.slack-edge.com/2025-02-08/8407560079991_6d3ec7cc938bc2e0cdb7_72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660580684.162459" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Cole Lawrence</b>
<span style="margin:2em; color:#606060">2022-08-15 09:24</span><br/>
Another strategy is to try to completely isolate communications with this business logic somehow. So, you can do all the dangerous PII Management inside the business logic process, but it has to go through a small port to communicate externally (port like Elm)
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660580798.577349"></a>
      <img src="https://avatars.slack-edge.com/2025-02-08/8407560079991_6d3ec7cc938bc2e0cdb7_72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660580798.577349" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Cole Lawrence</b>
<span style="margin:2em; color:#606060">2022-08-15 09:26</span><br/>
One other crazy idea, would be to include mocking tools to generate pii during your testing. And, then use a proxies on the request to make sure pii matching data from the mocker are not being sent between services.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660580820.991009"></a>
      <img src="https://avatars.slack-edge.com/2025-02-08/8407560079991_6d3ec7cc938bc2e0cdb7_72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660580820.991009" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Cole Lawrence</b>
<span style="margin:2em; color:#606060">2022-08-15 09:27</span><br/>
Almost like a security fuzzer *
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660581635.152709"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660581635.152709" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-08-15 09:40</span><br/>
woah these are all great ideas thank you
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660585317.747369"></a>
      <img src="https://avatars.slack-edge.com/2022-03-05/3210121425649_db778188df26a0e022f5_72.jpg" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660585317.747369" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Joakim Ahnfelt-Rønne</b>
<span style="margin:2em; color:#606060">2022-08-15 10:41</span><br/>
Perhaps create a Classified&lt;T&gt; type that can only be read by a Declassifier object, giving you something like object capabilities.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1660634183.477299"></a>
      <img src="https://avatars.slack-edge.com/2021-09-13/2483463922595_27dffd0e73bd6f709927_72.gif" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1660634183.477299" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Tom Larkworthy</b>
<span style="margin:2em; color:#606060">2022-08-16 00:16</span><br/>
At google protobuffer message field descriptions can be annotated with <a href="https://developers.google.com/protocol-buffers/docs/proto#options">options</a>, so then there are linters that check the service definition is not allowing public access to confidential fields. I think there was deeper support in some of the processing libraries to pass those flags along variables but I can't see anything equivalent in the public domain and they are not really foolproof anyway. I do think this is more of a metadata topic rather than a types topic though. gRPC can represent annotated datatypes, which might be a useful building block (?)
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1665693350.912969"></a>
      <img src="https://avatars.slack-edge.com/2025-02-08/8407560079991_6d3ec7cc938bc2e0cdb7_72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1665693350.912969" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Cole Lawrence</b>
<span style="margin:2em; color:#606060">2022-10-13 13:35</span><br/>
<span style="background-color:#ccf">@Garth Goldwater</span> did you figure out an interesting approach?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1665879606.550859"></a>
      <img src="https://secure.gravatar.com/avatar/10d754210ed4e4706eba3d063cdf99f0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png" style="float:left"/>
      <a href="../present-company/1660577052.279489.html#1665879606.550859" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Garth Goldwater</b>
<span style="margin:2em; color:#606060">2022-10-15 17:20</span><br/>
i didn’t unfortunately. we had to move on to some launch stuff for the moment. still very interested
    </td>
  </tr>
  </table>
<hr>
<a href="https://akkartik.name/foc-archive.zip">download this site</a> (~25MB)<br/>
<a href="https://github.com/akkartik/foc-archive">Git repo</a>
</html>
