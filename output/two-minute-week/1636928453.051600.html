<html>
<head><meta charset="UTF-8"></head><h2>Archives, <a href="https://futureofcoding.org/community">Future of Coding Community</a>, #two-minute-week</h2>
  <table>
  <tr>
    <td style="width:72px; vertical-align:top; padding-bottom:1em">
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-11-14 14:20</span><br/>
First screencast on my new project: <a href="https://github.com/akkartik/teliva">https://github.com/akkartik/teliva</a><br/><br/><a href="https://archive.org/details/akkartik-2021-11-14">https://archive.org/details/akkartik-2021-11-14</a><br/><br/>It's been great fun to work with a language implementation as small and elegant as Lua's. The editing environment benefits from runtime information in deciding how to present things to the programmer, and rendering a single function at a time allows me to use a simple, low-featured editor -- which in turn helps keep the implementation small and elegant.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1636938273.052000"></a>
      <a href="../two-minute-week/1636928453.051600.html#1636938273.052000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Ivan Reese</b>
<span style="margin:2em; color:#606060">2021-11-14 17:04</span><br/>
This is really interesting! What happens if you edit something in the data row? What does that look like?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1636939159.052200"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1636939159.052200" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-11-14 17:19</span><br/>
It's just a definition like any other! Usually much shorter since it's just a declaration for a global variable.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1636939593.052400"></a>
      <a href="../two-minute-week/1636928453.051600.html#1636939593.052400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-11-14 17:26</span><br/>
The game of life actually has interesting globals.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1636939776.052600"></a>
      <a href="../two-minute-week/1636928453.051600.html#1636939776.052600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-11-14 17:29</span><br/>
More often my globals look like this.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1636964415.053100"></a>
      <img src="https://avatars.slack-edge.com/2021-11-13/2722434855730_0c210ee2df74838f8683_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1636964415.053100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>nicolas decoster</b>
<span style="margin:2em; color:#606060">2021-11-15 00:20</span><br/>
Really cool. I like the simplicity, and discoverability levels. You choose edit, you see data and functions (and not files :ok_hand: ) which you can view and modify.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1636964563.053300"></a>
      <img src="https://avatars.slack-edge.com/2021-11-13/2722434855730_0c210ee2df74838f8683_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1636964563.053300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>nicolas decoster</b>
<span style="margin:2em; color:#606060">2021-11-15 00:22</span><br/>
Next steps could be (I guess you have them in mind): inspecting/modifying runtime state, saving a modification will hot plug the edits without restart (if I understand well, for now, it restarts the program on save).
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637123213.054500"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637123213.054500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-11-16 20:26</span><br/>
<span style="background-color:#ccf">@nicolas decoster</span> I've been thinking about your comment for the past day. I don't have enough experience with REPLs and Slime-like UIs, so hadn't really explored ideas in the direction of hot restarts. Inspecting runtime state seems definitely doable, but currently the whole process literally restarts (<tt>exec()</tt>) when you switch back to running the app. One question that occurs to me is how valuable the ability to modify runtime state is when the unit of sharing is static code. A Smalltalk-like image is a whole other beast, but with static code it's easy to end up in a state where there are modifications to RAM that don't get persisted to version control.<br/><br/>On the other hand, I'm reminded of an old thread with <span style="background-color:#ccf">@Jimmy Miller</span> and <span style="background-color:#ccf">@Jack Rusher</span> in particular about how they iteratively and interactively develop with Clojure, and I'm very open to ideas from anyone for things to try out.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637138047.054700"></a>
      <img src="https://avatars.slack-edge.com/2021-11-13/2722434855730_0c210ee2df74838f8683_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637138047.054700" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>nicolas decoster</b>
<span style="margin:2em; color:#606060">2021-11-17 00:34</span><br/>
&gt; One question that occurs to me is how valuable the ability to modify runtime state is when the unit of sharing is static code.<br/>Just to quote (emphasis are mine) the first quote in the teliva repo: “Enable all people to <b>modify</b> the software they use <b>in the course of using it</b>.”<br/><br/>I'm a user, the app is running, it has a state, and I see some behavior that I would like to change now. I can hit Ctrl-e, make the change, come back to running it with the new behavior with the previous state. Like a chat app, where a discussion is ongoing, but I want to change the display, like adding a view of all users names, and I don't want to loose previous messages when I'm back.<br/><br/>Or for live coding.<br/><br/>But when I close the app, I'm OK if the state is not persisted. It can be an interesting feature, but another one.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637159952.054900"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637159952.054900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-11-17 06:39</span><br/>
I'm definitely going to be looking for ways to implement hot-patching as I continue to understand the Lua implementation.<br/><br/>The point of brutalism is to reduce costs. Here the set of features provided and their complexity. I'm not sure Lua is a good substrate for transparently allowing hot-patching. That might require a Smalltalk. So far my ambition has been just to allow apps to be written in a crash-only manner. For example, build the chat app to frequently save data to disk. When it starts, by default look for data from the previous run to reload. Starting afresh becomes an easy special case there.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637166847.055200"></a>
      <img src="https://secure.gravatar.com/avatar/72cfca823894034e7bdbc31623c007d3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637166847.055200" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Charlie Roberts</b>
<span style="margin:2em; color:#606060">2021-11-17 08:34</span><br/>
Neat project! I like the data/function overview and the general concept. I’ve done live coding performances in Lua before… curious what you think the drawbacks are of hot-patching.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637166908.055400"></a>
      <img src="https://avatars.slack-edge.com/2021-11-13/2722434855730_0c210ee2df74838f8683_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637166908.055400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>nicolas decoster</b>
<span style="margin:2em; color:#606060">2021-11-17 08:35</span><br/>
Saving data from the app, is a kind of "VM save". But this is up to the user to define what it means to save the app state. Which is great because: 1. reduce complexity on the teliva side (keep it "brutalist") 2. this "power" is in the user's hand.<br/><br/>Maybe Lua already provides some serialization tools?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637172406.055600"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637172406.055600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-11-17 10:06</span><br/>
<span style="background-color:#ccf">@Charlie Roberts</span> Mostly just that I don't know how to do it, and how much effort is involved. If you have experience using hot-patching in Lua I'm very interested to pick your brain! Do you happen to have a repo for an old live-coding session lying around, for example?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637172567.055800"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637172567.055800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-11-17 10:09</span><br/>
<span style="background-color:#ccf">@nicolas decoster</span> do I understand correctly that you're suggesting just focusing on saving/restarting in-memory state during a session, and punting on saving to disk as an app-level concern?<br/><br/>I've never dealt with hot-patching before. If I set a breakpoint in the middle of a function, then modify the code for the function, what is the expected result when I resume?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637179542.056100"></a>
      <img src="https://avatars.slack-edge.com/2021-11-13/2722434855730_0c210ee2df74838f8683_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637179542.056100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>nicolas decoster</b>
<span style="margin:2em; color:#606060">2021-11-17 12:05</span><br/>
Sorry I wasn't clear, I was talking about your idea: "build the chat app to frequently save data to disk. When it starts, by default look for data from the previous run to reload. Starting afresh becomes an easy special case there."<br/><br/>It is a kind of poor man "VM save" and is up to the user to decide what it really means. And as with this kind of experiment, the idea is to empower the user, it might good enough while keeping things simpler for teliva.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637180678.056300"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637180678.056300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-11-17 12:24</span><br/>
Oh, so no changes needed?! I fear I'm having trouble hearing what you're suggesting because my brain is too full of my own ideas.<br/><br/>To answer one previous question, yes I think Lua has good support for serializing arbitrary data. I might package a JSON library by default or something like that.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637183017.056600"></a>
      <img src="https://avatars.slack-edge.com/2021-11-13/2722434855730_0c210ee2df74838f8683_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637183017.056600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>nicolas decoster</b>
<span style="margin:2em; color:#606060">2021-11-17 13:03</span><br/>
Yes, it would be nice to provide a way to make it easy for the app dev/user to persist her app state. And maybe with automatic save and restore around any code edit?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637183234.056800"></a>
      <img src="https://avatars.slack-edge.com/2021-11-13/2722434855730_0c210ee2df74838f8683_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637183234.056800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>nicolas decoster</b>
<span style="margin:2em; color:#606060">2021-11-17 13:07</span><br/>
Also to be clear, I also like the hot reload way of doing things (and the power it brings), but I also fully understand your point, the brutalist approach, which might be "malleable" enough and much simpler.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637187871.057000"></a>
      <img src="https://secure.gravatar.com/avatar/72cfca823894034e7bdbc31623c007d3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637187871.057000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Charlie Roberts</b>
<span style="margin:2em; color:#606060">2021-11-17 14:24</span><br/>
<span style="background-color:#ccf">@Kartik Agaram</span> I was just thinking with <tt>loadstring</tt>… you lose local scope, but if your data is stored globally I don’t think that would matter. But here’s a paper on a Lua-based creative coding system I was involved with many years ago that called out to Clang, compiled C code (based on data representations provided by the Lua app), and linked the resulting JIT-compiled function back into the running Lua application: <a href="https://www.researchgate.net/publication/242725288_LuaAV_Extensibility_and_Heterogeneity_for_Audiovisual_Computing">https://www.researchgate.net/publication/242725288_LuaAV_Ext&hellip;</a><br/>It worked surprisingly well tbh…  although I wasn’t involved with that part and it always seemed like deep dark magic to me :slightly_smiling_face:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1637519286.061000"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../two-minute-week/1636928453.051600.html#1637519286.061000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-11-21 10:28</span><br/>
In spite of my concerns that what is saved to disk may diverge from the state when building the program, I'm starting to realize that constantly rebooting the environment is a non-starter when the reboot includes edit state. Currently if I make a mistake when editing one function, running the program causes the whole environment to forget which function I was editing. So I end up back at the top-level hierarchy view.<br/><br/>So the current architecture has some fundamental problems. Rebooting programs from scratch only works in Unix because the editor is in a separate process that isn't rebooted.
    </td>
  </tr>
  </table>
<hr>
<a href="https://akkartik.name/foc-archive.zip">download this site</a> (~25MB)<br/>
<a href="https://github.com/akkartik/foc-archive">Git repo</a>
</html>
