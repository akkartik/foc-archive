<html>
<head><meta charset="UTF-8"></head><h2>Archives, <a href="https://futureofcoding.org/community">Future of Coding Community</a>, #thinking-together</h2>
  <table>
  <tr>
    <td style="width:72px; vertical-align:top; padding-bottom:1em">
      <img src="https://secure.gravatar.com/avatar/34185a5422416f82b3e4a62964f2866b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" style="float:left"/>
      <a href="../thinking-together/1639974030.295800.html" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Doug Moen</b>
<span style="margin:2em; color:#606060">2021-12-19 20:20</span><br/>
This is a question about writing compilers. I need to design an IR. Mine is for a pure functional + imperative language. What currently seems popular is SSA with block parameters, not phi nodes, which at least handles the imperative side of my language. My special concern is supporting efficient compile time evaluation (as well as partial evaluation). I guess I want the IR to be a compromise between supporting a fast interpreter (for compile time evaluation) vs supporting conventional compiler optimizations. Does anybody have experience with this?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1640008135.296400"></a>
      <img src="https://avatars.slack-edge.com/2021-12-01/2799368556017_62d5c0083caff61eeaaa_72.jpg" style="float:left"/>
      <a href="../thinking-together/1639974030.295800.html#1640008135.296400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Alex Bender</b>
<span style="margin:2em; color:#606060">2021-12-20 05:48</span><br/>
looks like this could be interesting for you, but I'm not on the topic so cant say for sure<br/><a href="../two-minute-week/1639986127.090700.html">../two-minute-week/1639986127.090700.html</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1643369263.384009"></a>
      <img src="https://avatars.slack-edge.com/2021-07-07/2254853369060_d6900487d9109f495c79_72.jpg" style="float:left"/>
      <a href="../thinking-together/1639974030.295800.html#1643369263.384009" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Alexander Chichigin</b>
<span style="margin:2em; color:#606060">2022-01-28 03:27</span><br/>
I don't have real experience with this (and I'm probably too late anyway) but you don't have to (to large extent you can't) stick with single IR for everything.<br/><br/>For the start you're going to begin with AST and I would define a compile-time interpreter/evaluator right at this stage. Or you can transform to A-normal form which is equivalent to SSA but looks like very simple functional language which again is easy to interpret.<br/><br/>For lower-level optimisations I'd go with Sea-of-Nodes(-like) IR. And then maybe another (serial) IR for register allocation/instruction selection phase(s).
    </td>
  </tr>
  </table>
<hr>
<a href="https://akkartik.name/foc-archive.zip">download this site</a> (~25MB)<br/>
<a href="https://github.com/akkartik/foc-archive">Git repo</a>
</html>
