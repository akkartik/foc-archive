<html>
<head><meta charset="UTF-8"></head><h2>Archives, <a href="https://futureofcoding.org/community">Future of Coding Community</a>, #share-your-work</h2>
  <table>
  <tr>
    <td style="width:72px; vertical-align:top; padding-bottom:1em">
      <a href="../share-your-work/1623303727.066300.html" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-09 22:42</span><br/>
I recently added the ability to edit functions in my prototyping environment. It's inspired by Tiddlywiki, with the screen at any moment containing the most recently edited functions. Here's a short live-coding session of everyone's favorite programming problem -- with a small twist.<br/><br/><a href="https://archive.org/details/akkartik-mu-2021-06-09">https://archive.org/details/akkartik-mu-2021-06-09</a> (video; 6 minutes)<br/><br/>Main project page: <a href="https://github.com/akkartik/mu">https://github.com/akkartik/mu</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1623312651.066400"></a>
      <img src="https://secure.gravatar.com/avatar/2266cacc8f3c9964e7bfb1c357bf6873.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1623312651.066400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Chris Maughan</b>
<span style="margin:2em; color:#606060">2021-06-10 01:10</span><br/>
You've built an IDE :slightly_smiling_face: Nice.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1623328593.066600"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1623328593.066600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-10 05:36</span><br/>
And a file system!
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1623328802.066800"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1623328802.066800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-10 05:40</span><br/>
And a janky, janky desktop system. That modal dialog..
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1623344085.067100"></a>
      <img src="https://avatars.slack-edge.com/2020-06-28/1196019819111_19925410efa8da86ae13_72.jpg" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1623344085.067100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Ray Imber</b>
<span style="margin:2em; color:#606060">2021-06-10 09:54</span><br/>
Kartik, you continue to outdo yourself! Your system is becoming exponentially more featureful and useful every time you post a demo.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1623935395.086500"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1623935395.086500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-17 06:09</span><br/>
I wonder if you would be able to package things up to run in the browser using <a href="https://github.com/copy/v86">this library</a> to make it easier for casuals to try Mu?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1623937101.087000"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1623937101.087000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-17 06:38</span><br/>
Yes, this has been in my radar as well. The blocker: I don't have much patience for Javascript. Help would be most appreciated, if someone wants to pair or consult. I believe it's just a matter of throwing some files together in a directory?!
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1623956026.087500"></a>
      <img src="https://secure.gravatar.com/avatar/2266cacc8f3c9964e7bfb1c357bf6873.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1623956026.087500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Chris Maughan</b>
<span style="margin:2em; color:#606060">2021-06-17 11:53</span><br/>
+1 to that! :slightly_smiling_face:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624181528.088500"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624181528.088500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-20 02:32</span><br/>
Well, I've got something set up on localhost that loads the Game of Life image in the browser and boots it, but it crashes immediately with some VGA memory corruption. I think part of the problem is that Mu wants a rather large heap for the sort of machine that this code emulates.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624184040.088800"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624184040.088800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 03:14</span><br/>
Thanks for trying it and the bug reports! GoL doesn't require much heap. Could you try dropping the <tt>-m 2G</tt> from the Qemu command? If that doesn't work, could you send me the generated image?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624205415.089100"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624205415.089100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 09:10</span><br/>
Ohhh, I just noticed the words "in the browser"!
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624205511.089300"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624205511.089300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 09:11</span><br/>
Looks like Qemu runs with 128MB of RAM by default. I just tried Game of Life with 64MB and that works. 32MB fails.<br/><br/><pre style="white-space:pre-wrap">qemu-system-i386 -m 64M code.img</pre>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624205818.089600"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624205818.089600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 09:16</span><br/>
I just refreshed my memory of why. My heap <em>starts</em> at 32MB: <a href="http://akkartik.github.io/mu/html/120allocate.subx.html#L27">http://akkartik.github.io/mu/html/120allocate.subx.html#L27</a><br/><br/>I was just trying to find a large open space in <a href="https://wiki.osdev.org/Memory_Map_(x86)#Extended_Memory_.28.3E_1_MiB.29">https://wiki.osdev.org/Memory_Map_(x86)#Extended_Memory_.28.3E_1_MiB.29</a><br/><br/>And I reserved 16MB-32MB for the stack: <a href="http://akkartik.github.io/mu/html/boot.subx.html#L236">http://akkartik.github.io/mu/html/boot.subx.html#L236</a><br/><br/>This is all open to adjustment.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624206491.089900"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624206491.089900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 09:28</span><br/>
I can now run GoL with 3MB RAM:<br/><pre style="white-space:pre-wrap">$ ./translate_emulated <a href="http://life.mu">life.mu</a><br/>$ qemu-system-i386 -m 3M code.img</pre><br/>Here's my patch to grow the stack down from 2MB, and the heap up from 2MB:<br/><pre style="white-space:pre-wrap">$ git diff<br/>diff --git a/120allocate.subx b/120allocate.subx<br/>index 26d2a74bb..0063515c2 100644<br/>--- a/120allocate.subx<br/>+++ b/120allocate.subx<br/>@@ -26,7 +26,7 @@ Handle-size:  # (addr int)<br/> # A default allocation descriptor for programs to use.<br/> Heap:  # allocation-descriptor<br/>   # curr<br/>-  0x02000000/imm32  # 32 MB<br/>+  0x00200000/imm32  # 2 MB<br/>   # limit<br/>   0x80000000/imm32  # 2 GB<br/> <br/>diff --git a/boot.subx b/boot.subx<br/>index 31d79d4fb..9b2896baa 100644<br/>--- a/boot.subx<br/>+++ b/boot.subx<br/>@@ -243,7 +243,7 @@ initialize_32bit_mode:<br/>   8e/-&gt;seg 3/mod/direct 0/rm32/ax 4/r32/fs<br/>   8e/-&gt;seg 3/mod/direct 0/rm32/ax 5/r32/gs<br/> <br/>-  bc/copy-to-esp 0x02000000/imm32<br/>+  bc/copy-to-esp 0x00200000/imm32<br/> <br/>   ## load interrupt handlers<br/>   # We can't refer to the label directly because SubX doesn't do the right</pre>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624207567.090300"></a>
      <a href="../share-your-work/1623303727.066300.html#1624207567.090300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-20 09:46</span><br/>
I had tried chaging the Heap (because the docs mentioned it), but didn't look at boot :slightly_smiling_face: In any case, it's still failing with noisey VGA corruption like this
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624207588.090500"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624207588.090500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-20 09:46</span><br/>
Can you recommend a good text mode demo to try?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624208498.090800"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624208498.090800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 10:01</span><br/>
Mu doesn't use text mode at all outside the linux/ subdirectory. Even the apparent text is all drawn using the one font in the disk image.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624208543.091000"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624208543.091000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 10:02</span><br/>
It's interesting that this SVGA mode isn't supported. I thought it was pretty bare-bones. Are you running v86?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624208586.091300"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624208586.091300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 10:03</span><br/>
I do have a backup mode, hold on..
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624208618.091500"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624208618.091500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-20 10:03</span><br/>
Yeah, experimenting with v86. I can get a bunch of other OSs to work fine, including Oberon (!).
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624208950.091700"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624208950.091700" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 10:09</span><br/>
One option may be to iterate over the simplest examples: ex*.mu. Each adds just one feature.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624208976.091900"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624208976.091900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 10:09</span><br/>
I'm working on a different SVGA mode, but I'm starting to think that's a red herring..
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624209093.092200"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624209093.092200" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-20 10:11</span><br/>
what resolution are you expecting? I have to specify the memory size of the "video card"
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624209182.092500"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624209182.092500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 10:13</span><br/>
Oh interesting. It's 1024x768 with 256 colors. So 768KB should do it?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624209244.092700"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624209244.092700" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 10:14</span><br/>
<a href="http://ex2.mu">ex2.mu</a> might be a good test. It should yield this: <a href="https://merveilles.town/@akkartik/105453700021972721">https://merveilles.town/@akkartik/105453700021972721</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624209774.093100"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624209774.093100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-20 10:22</span><br/>
Same screen. I've also noticed that there are several "Uncaught Unimplemented: #NP handler" errors before the VM gives up. I'll try to investigate a bit tomorrow, other obligations allowing. :slightly_smiling_face:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624209860.093300"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624209860.093300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-20 10:24</span><br/>
Thank you! Do you have a set of prebuilt html/js files from v86? If you send them to me I'll play around as well.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624263384.093500"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624263384.093500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-21 01:16</span><br/>
I've made a pull request that should give you a working emulator that fails with Mu images. If you can get Mu running in this environment, I'll do a little more work to make the web presentation nice.<br/><a href="https://github.com/akkartik/mu/pull/49">https://github.com/akkartik/mu/pull/49</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624282535.093800"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624282535.093800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 06:35</span><br/>
Thank you very much!
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624284472.094100"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624284472.094100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 07:07</span><br/>
One more guess: it's not the .js files here that are incompatible with Mu but the .bin BIOS ROMs. Maybe video memory is mapped to a different place. I'll check it!
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624285307.094300"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624285307.094300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-21 07:21</span><br/>
SeaBIOS is also used by qemu, so I think it must be okay. OTOH, the VGA bios used by v86 is not the same as qemu (which uses the one from Bochs). I'll try the Bochs one now.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624285542.094600"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624285542.094600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-21 07:25</span><br/>
Good news/bad news. No more VGA corruption, but also we still have the <tt>Unimplemented: #NP handler</tt>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624285678.094900"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624285678.094900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 07:27</span><br/>
Reading the Intel manual now for <tt>#NP</tt>. Segment not present, I see..
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624286820.095100"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624286820.095100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 07:47</span><br/>
Could you send me <tt>build/libv86-debug.js</tt> when you get a chance? I'm hoping it'll contain just a straight concatenation of the Javascript sources.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624286836.095300"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624286836.095300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-21 07:47</span><br/>
Yeah, it's something you want to see while implementing virtual memory, but otherwise not so much. :joy_cat:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624286934.095500"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624286934.095500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-21 07:48</span><br/>
I don't have the debug build handy atm, but there's a hosted debug tooled page here for v86 here: <a href="https://copy.sh/v86/debug.html">https://copy.sh/v86/debug.html</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624287016.095700"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624287016.095700" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 07:50</span><br/>
Thanks! Yeah I can just grab it from there. <a href="https://copy.sh/v86/build/v86_all_debug.js">https://copy.sh/v86/build/v86_all_debug.js</a> doesn't look like quite what I was hoping for.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624287050.095900"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624287050.095900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-21 07:50</span><br/>
Hahaha. I was just writing that that isn't the same as the normal debug build because it includes special config stuff for the OS images offered on that page
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624287092.096100"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624287092.096100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 07:51</span><br/>
True, but I figure they will tend to mean the same thing by 'debug'..
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624287235.096300"></a>
      <a href="../share-your-work/1623303727.066300.html#1624287235.096300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-21 07:53</span><br/>
Switching out the Bochs versions of both BIOS bins has the benefit of being much slower, which allowed me to watch the emulator boot up with a band of blue at the top and then overwrite the band with green dots until it hit to #NP exception.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624287380.096500"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624287380.096500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 07:56</span><br/>
Oh very interesting. Thank you!
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624287382.096700"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624287382.096700" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 07:56</span><br/>
Could you send me the new BIOS bins?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624287517.096900"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624287517.096900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-21 07:58</span><br/>
what is the best channel to do so?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624287957.097100"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624287957.097100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 08:05</span><br/>
Whatever is convenient. Just upload to me here on Slack in a DM?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624289129.097400"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624289129.097400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 08:25</span><br/>
I can reproduce it, thank you!<br/><br/>The fact that the screen looks different leads me to wonder if the two configurations are failing in different ways. Still, the bochs failure is easier to debug so I'll search where the light is.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624289339.097700"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624289339.097700" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 08:28</span><br/>
Ooh, this state from Mar 15 works:<br/><br/><pre style="white-space:pre-wrap">git checkout bc182ae559580d4d2cde6d5c5e8ed3bb5906bdb5<br/>./translate_subx boot.subx ex2.subx          # emits disk.img</pre>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624289348.097900"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624289348.097900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-21 08:29</span><br/>
I would assume a problem with v86 on the basis that Mu works fine with qemu, but so many other images work fine that I'm suspicious of a corner case in Mu's output. If I have some time tomorrow, I might do some more testing myself with a minimal bootable thing. v86 strikes me as a nice tool for pedagogy, probably in the context of an online essay about programming at this layer.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624289357.098100"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624289357.098100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-21 08:29</span><br/>
Aha! You're on the trail! :smile:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624289367.098300"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624289367.098300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 08:29</span><br/>
The major new feature since then is the ATA disk driver.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624289465.098600"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624289465.098600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 08:31</span><br/>
I'm gonna take off as well for the day. Thank you so much!
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624324127.098900"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624324127.098900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 18:08</span><br/>
The disk driver was a red herring. The Bochs BIOS mostly works! There's just some boot-up unit test(s) failing that are hard to spot because of the initial screen corruption. If I disable tests all the programs work! Including the whole programming environment. About 5s per screen repaint/keypress, so <em>really</em> slow.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624331923.099100"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624331923.099100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-21 20:18</span><br/>
Looks like there's something lacking in the way I initialize the floating point unit. Turning mu-init.subx into this fails to print '0' and logs the <tt>#NP</tt> exception to the console:<br/><pre style="white-space:pre-wrap">== code<br/><br/>Entry:<br/>  f3 0f 58/add %xmm2 0x00000000/x32  # add xmm2 to xmm0   &lt;=== deleting this line prints '0' and throws no exception<br/>  (draw-grapheme-on-real-screen 0x30 0 0 7 0)<br/>  # hang indefinitely<br/>  {<br/>    eb/jump loop/disp8<br/>  }</pre><br/>(Run this with just <tt>./translate</tt>; no .mu arg required.)<br/><br/>Here's how I initialize the FPU right now in boot.subx. I definitely recall cutting corners, though I don't recall what they were.<br/><pre style="white-space:pre-wrap">  ## enable floating point<br/>  db/floating-point-coprocessor e3/initialize<br/>  # eax &lt;- cr4<br/>  0f 20/&lt;-cr 3/mod/direct 0/rm32/eax 4/r32/cr4<br/>  # eax &lt;- or bit 9<br/>  0f ba/bit-test 5/subop/bit-test-and-set 3/mod/direct 0/rm32/eax 9/imm8<br/>  # cr4 &lt;- eax<br/>  0f 22/-&gt;cr 3/mod/direct 0/rm32/eax 4/r32/cr4</pre>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624369432.099600"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624369432.099600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-22 06:43</span><br/>
It's been awhile, but isn't <tt>DB E3</tt> the one that can be interrupted by a pending instruction on older processors? Although that would raise a different exception. Hm. :thinking_face:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624372416.099900"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624372416.099900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-06-22 07:33</span><br/>
I didn't immediately see anything at <a href="https://wiki.osdev.org/FPU">https://wiki.osdev.org/FPU</a>. Though perhaps I should actually try to verify the presence of the FPU. I've been just assuming its existence.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1624378795.100100"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1624378795.100100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-06-22 09:19</span><br/>
I was thinking of whether you use <tt>9B</tt> before that as a "block boundary", which changes the behavior. That said, it's probably not the thing.<br/><a href="https://www.felixcloutier.com/x86/finit:fninit">https://www.felixcloutier.com/x86/finit:fninit</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626753553.173100"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626753553.173100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-19 20:59</span><br/>
I finally came back to this while stuck in an airport. It looks like I can delete all floating point usage by deleting a few files:<br/><br/><pre style="white-space:pre-wrap">git pull<br/>rm 408* 412* 505* 507* 509* 511*<br/>./translate apps/life.mu<br/></pre><br/>Could you try it? <a href="http://akkartik.name/browser/">http://akkartik.name/browser/</a><br/><br/>Sorry I'm stuck in an airport and can't run a webserver or download 10MB from my server.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626766527.173900"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626766527.173900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-07-20 00:35</span><br/>
Sadly, it looks the same as before (corruption at the top of video memory)
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626870897.183000"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626870897.183000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-21 05:34</span><br/>
I'm back at a computer. Above I wrote on June 21:<br/><br/>&gt; Ooh, this state from Mar 15 works:<br/>&gt; git checkout bc182ae559580d4d2cde6d5c5e8ed3bb5906bdb5<br/>&gt; ./translate_subx boot.subx ex2.subx<br/>I can't reproduce it anymore :cry: Same bochs-*.bin images, I believe.<br/><br/>A month ago I was on a Mac. Right now I'm on a newer Thinkpad running Linux. That's the only difference I can think of.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626872044.183800"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626872044.183800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-21 05:54</span><br/>
I suspect some browser caching issue from this hotel's wifi. I've lobotomized almost all of Mu even within boot.subx, and I still get 3 #NP errors. Here's the console:<br/><br/><pre style="white-space:pre-wrap">The character encoding of the HTML document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the page must be declared in the document or in the transfer protocol.<br/>Unimplemented: #NP handler libv86.js:1145:168<br/>Execution stopped libv86.js:1145:168<br/>Unimplemented: #NP handler libv86.js:606:280<br/>undefined libv86.js:606:295<br/>Unimplemented: #NP handler libv86.js:606:280<br/>undefined libv86.js:606:295<br/>Uncaught Unimplemented: #NP handler libv86.js:606:308</pre><br/>Previously the number of #NPs caused just by all of boot.subx was 0, IIRC.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626872530.184000"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626872530.184000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-21 06:02</span><br/>
Yeah, this is bullshit. I've gone back to <a href="https://github.com/akkartik/mu/blob/main/apps/boot0.hex">https://github.com/akkartik/mu/blob/main/apps/boot0.hex</a>, back before boot.subx ever changed the graphics mode, and I still see the screen dimensions changing on the browser.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626892160.193500"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626892160.193500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-21 11:29</span><br/>
Aha, a few hours later the boot0.hex image works.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626950443.195400"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626950443.195400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-22 03:40</span><br/>
Now I can reproduce previous milestones from a month ago. And this suggestion of mine from earlier works:<br/><br/>&gt; git pull<br/>&gt; rm 408* 412* 505* 507* 509* 511*<br/>&gt; ./translate apps/life.mu<br/>..<em>as long as</em> I also only load 12 tracks from disk into memory and not 14 as I had started doing :man-shrugging:<br/><br/><pre style="white-space:pre-wrap">$ git diff boot.subx<br/>diff --git a/boot.subx b/boot.subx<br/>index 18f54748c..232f26a21 100644<br/>--- a/boot.subx<br/>+++ b/boot.subx<br/>@@ -150,20 +150,6 @@<br/>   cd/syscall 0x13/imm8/bios-disk-services<br/>   0f 82/jump-if-carry disk_error/disp16<br/> <br/>-  # load two more tracks of disk into addresses [0x66400, 0x76000)<br/>-  b4/copy-to-ah 2/imm8/read-drive<br/>-  # dl comes conveniently initialized at boot time with the index of the device being booted<br/>-  b5/copy-to-ch 0/imm8/cylinder<br/>-  b6/copy-to-dh 0xc/imm8/head                 # &lt;====<br/>-  b1/copy-to-cl 1/imm8/sector  # 1-based<br/>-  b0/copy-to-al 0x7e/imm8/num-sectors  # 2*63 = 126<br/>-  # address to write sectors to = es:bx = 0x56800, contiguous with boot segment<br/>-  bb/copy-to-bx 0x6640/imm16                  # &lt;====<br/>-  8e/-&gt;seg 3/mod/direct 3/rm32/bx 0/r32/es<br/>-  bb/copy-to-bx 0/imm16<br/>-  cd/syscall 0x13/imm8/bios-disk-services<br/>-  0f 82/jump-if-carry disk_error/disp16<br/>-<br/>   # reset es<br/>   bb/copy-to-bx 0/imm16<br/>   8e/-&gt;seg 3/mod/direct 3/rm32/bx 0/r32/es</pre><br/>Summary of the thread so far:<br/>• v86 is <em>really</em> slow;<br/>• I can't get floating point to work with it; and<br/>• it only supports loading 12 tracks (or 6 calls or something like that) using BIOS int 13h
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626965934.196700"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626965934.196700" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-07-22 07:58</span><br/>
btw, which browser are you using for your experiments?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626966297.196900"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626966297.196900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-22 08:04</span><br/>
Oh good question. Firefox on Linux.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626967243.197100"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626967243.197100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-07-22 08:20</span><br/>
I've been having decent performance on Chrome (MacOS), including booting and running whole Linux distros and such. I wonder if it would make a difference for you purposes...?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626967323.197300"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626967323.197300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-22 08:22</span><br/>
Indeed. Let me try that. I've been traveling and hadn't had access to my Mac for a couple of weeks.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626970579.197500"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626970579.197500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-22 09:16</span><br/>
I just tried it on Mac, and I see #NP exceptions on both Firefox and Chrome! This doesn't feel very portable at all. The exact same image works on Linux, and it's on a new path, so no potential for caching issues: <a href="http://akkartik.name/browser2">http://akkartik.name/browser2</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626975325.197900"></a>
      <a href="../share-your-work/1623303727.066300.html#1626975325.197900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-07-22 10:35</span><br/>
I get an intentional-looking pattern like this on both browsers :joy_cat:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1626975953.198100"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1626975953.198100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-22 10:45</span><br/>
Oh awesome. That's the expected result.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1627046468.198300"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1627046468.198300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-07-23 06:21</span><br/>
I wonder if there's something more permissive about qemu that's hiding a bug in more recent versions of Mu that would show up if, say, one tried to install it on bare metal? I ask because so many other full-blown OSes seem to work fine.<br/><br/>(Also, I apologize that I don't have the bandwidth to help debug whatever's happening atm.)
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1627046667.198600"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1627046667.198600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-23 06:24</span><br/>
That's been exactly my thought. I have no doubt there's a real issue here. I'm just not sure what the best way is to proceed.<br/><br/>I'll be home in a couple of days and will hopefully see it working again on Mac.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1627165543.199000"></a>
      <img src="https://avatars.slack-edge.com/2019-07-14/687915485201_6e649a383cf8f9e366e3_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1627165543.199000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Kartik Agaram</b>
<span style="margin:2em; color:#606060">2021-07-24 15:25</span><br/>
I'm back home. I'm not sure what's up with my Mac, but I can't get anything in Mu besides <a href="http://boot0.to">boot0.hex to</a> avoid the #NP in either Firefox or Chrome. What Mac are you on exactly? Extremely curious.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1627282760.199500"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../share-your-work/1623303727.066300.html#1627282760.199500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2021-07-25 23:59</span><br/>
MacBook Pro (15-inch, 2016) / MacOS 11.4, system Safari, latest Chrome.
    </td>
  </tr>
  </table>
<hr>
<a href="https://akkartik.name/foc-archive.zip">download this site</a> (~25MB)<br/>
<a href="https://github.com/akkartik/foc-archive">Git repo</a>
</html>
