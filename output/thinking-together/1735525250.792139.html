<html>
<head><meta charset="UTF-8"></head><h2>Archives, <a href="https://futureofcoding.org/community">Future of Coding Community</a>, #thinking-together</h2>
  <table>
  <tr>
    <td style="width:72px; vertical-align:top; padding-bottom:1em">
      <img src="https://avatars.slack-edge.com/2023-07-06/5540564223570_ecafb7e619aa6416f3c1_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Iacob Nasca</b>
<span style="margin:2em; color:#606060">2024-12-29 18:20</span><br/>
does anyone work on making a programming language ? and if so, can you share a repo or some notes ? I'm curious what features are you implementing and what programming language are you using do develop it and how you do the codegen part. I'm currently struggling quite a bit with LLVM
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735532520.811659"></a>
      <img src="https://avatars.slack-edge.com/2023-02-06/4754627914258_41a8bada781281751d07_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735532520.811659" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Paul Tarvydas</b>
<span style="margin:2em; color:#606060">2024-12-29 20:22</span><br/>
<a href="https://open.substack.com/pub/programmingsimplicity/p/writing-a-compiler-in-2024?r=1egdky&amp;utm_campaign=post&amp;utm_medium=web&amp;showWelcomeOnShare=true">https://open.substack.com/pub/programmingsimplicity/p/writin&hellip;</a><br/><br/>[I would be glad to discuss further...]
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735551039.500709"></a>
      <img src="https://avatars.slack-edge.com/2023-07-06/5540564223570_ecafb7e619aa6416f3c1_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735551039.500709" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Iacob Nasca</b>
<span style="margin:2em; color:#606060">2024-12-30 01:30</span><br/>
great resources. thank you
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735561603.154769"></a>
      <img src="https://avatars.slack-edge.com/2018-07-09/395086754178_7f0f1c0238ec02befdab_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735561603.154769" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Mariano Guerra</b>
<span style="margin:2em; color:#606060">2024-12-30 04:26</span><br/>
what are you looking for? I wrote a weird one <a href="https://marianoguerra.org/posts/bootstrapping-oop-part-3-who-parses-the-parser/">https://marianoguerra.org/posts/bootstrapping-oop-part-3-who-parses-the-parser/</a> (follow the links back to the first post)
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735561624.628379"></a>
      <img src="https://avatars.slack-edge.com/2018-07-09/395086754178_7f0f1c0238ec02befdab_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735561624.628379" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Mariano Guerra</b>
<span style="margin:2em; color:#606060">2024-12-30 04:27</span><br/>
I'm also writing about a less weird one <a href="https://wasmgroundup.com/">https://wasmgroundup.com/</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735562788.908449"></a>
      <img src="https://avatars.slack-edge.com/2023-07-06/5540564223570_ecafb7e619aa6416f3c1_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735562788.908449" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Iacob Nasca</b>
<span style="margin:2em; color:#606060">2024-12-30 04:46</span><br/>
Thank you for the reading material. I'm writing my own programming language. For fun and profit - fun mostly. And I went through all the steps successfully (lexing, parsing, all the static analysis checking) and now I'm at the step of actually building the executable file, and from multiple articles I've seen, I chose to go with generating IR for LLVM (multiple targets and platforms was a plus) and then compile that to an executable. But it seems overly complicated and I'm not sure is the right path to go. Or maybe I just don't get it yet. I would like to see another completed language that uses LLVM and see how stuff are organized and defined and called. There are a bunch of tutorials on the site but it seems are just about one or two toy instructions. I've also seen a lot of other languages, and Paul Tarvydas also has some articles - suggesting a transpilation to another high level language (like C, or even better, something with GC like GO) and then compile that. But that also brings in a lot of issues. So...I'm just fishing around here to see if something clicks. :nerd_face:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735565548.166249"></a>
      <img src="https://avatars.slack-edge.com/2018-07-09/395086754178_7f0f1c0238ec02befdab_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735565548.166249" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Mariano Guerra</b>
<span style="margin:2em; color:#606060">2024-12-30 05:32</span><br/>
this may be useful, but I would suggest that if llvm is not a requirement for you target something easier or higher level<br/><br/><a href="https://lambdaclass.github.io/mlir-workshop/">https://lambdaclass.github.io/mlir-workshop/</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735565616.387389"></a>
      <img src="https://avatars.slack-edge.com/2018-07-09/395086754178_7f0f1c0238ec02befdab_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735565616.387389" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Mariano Guerra</b>
<span style="margin:2em; color:#606060">2024-12-30 05:33</span><br/>
you could target some existing bytecode, webassembly, transpile to another language or use something simpler than llvm like <a href="https://cranelift.dev/">https://cranelift.dev/</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735565637.846959"></a>
      <img src="https://avatars.slack-edge.com/2018-07-09/395086754178_7f0f1c0238ec02befdab_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735565637.846959" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Mariano Guerra</b>
<span style="margin:2em; color:#606060">2024-12-30 05:33</span><br/>
or emit your own bytecode and write an interpreter
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735566055.399339"></a>
      <img src="https://avatars.slack-edge.com/2023-07-06/5540564223570_ecafb7e619aa6416f3c1_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735566055.399339" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Iacob Nasca</b>
<span style="margin:2em; color:#606060">2024-12-30 05:40</span><br/>
that is really helpful. thank you!
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735567593.435399"></a>
      <img src="https://avatars.slack-edge.com/2023-02-06/4754627914258_41a8bada781281751d07_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735567593.435399" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Paul Tarvydas</b>
<span style="margin:2em; color:#606060">2024-12-30 06:06</span><br/>
Yes, LLVM is complicated. It probably encodes everything we've learned about building compilers in a traditional way. At the code emission point, things get complicated because there are so many disparate possible targets. I suggest that it helps to first understand how to emit code - manually - for only one target, then the reasons for all of LLVM's complication will become more clear. [Aside: my favourite approach is to cut the emission problem into 2 halves - a dumb, general pass, then a rewriting pass that targets a pile of real targets. This is what GCC does. GCC uses "RTL". I think that "OCG" is even better. Hmm, is GCC's RTL more approachable than LLVM?]
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735567613.324639"></a>
      <img src="https://avatars.slack-edge.com/2023-02-06/4754627914258_41a8bada781281751d07_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735567613.324639" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Paul Tarvydas</b>
<span style="margin:2em; color:#606060">2024-12-30 06:06</span><br/>
Are you aware of Bob Nystrom's "Crafting Interpreters"? There is a Thursday night (EST) reading group - CS Cabal on Slack (<a href="http://cscabal.slack.com">cscabal.slack.com</a>). We're incrementally reading through the book and asking questions as we go. Apparently, the book contains the hoary details for interpreting an AST and for converting the AST into bytecodes (we haven't got very far. It's definitely not too late to join in).
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735567731.504389"></a>
      <img src="https://avatars.slack-edge.com/2023-02-06/4754627914258_41a8bada781281751d07_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735567731.504389" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Paul Tarvydas</b>
<span style="margin:2em; color:#606060">2024-12-30 06:08</span><br/>
If you insist on writing your own code generator, maybe ask ChatGPT or Claude to write some LLVM for you. Spend a few hours chatting with it to see if it goes anywhere. Start by writing a simple program in your programming language. Get Claude to generate LLVM for it. I think that LLVM is old enough to be included in LLM ChatGPT's/Claude's training. Typically, I don't trust the output of LLMs, but, they are very helpful, for me, in generating example code and helping me down the learning curve.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735568051.069509"></a>
      <img src="https://avatars.slack-edge.com/2023-07-06/5540564223570_ecafb7e619aa6416f3c1_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735568051.069509" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Iacob Nasca</b>
<span style="margin:2em; color:#606060">2024-12-30 06:14</span><br/>
I was mostly using <a href="https://godbolt.org/">https://godbolt.org/</a> with mingw clang and -S -emit-llvm to see what ir it spits out from some C i write there. but it seems is way different than any documentation i find about llvm
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735568186.069789"></a>
      <img src="https://avatars.slack-edge.com/2019-12-25/886144219253_4377ee2417eb9eaacd4b_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735568186.069789" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jimmy Miller</b>
<span style="margin:2em; color:#606060">2024-12-30 06:16</span><br/>
I'm building my own language. It's a dynamically typed functional language that compiles straight to machine code. <a href="https://github.com/jimmyhmiller/beagle">https://github.com/jimmyhmiller/beagle</a><br/><br/>I will just say personally that I found all language stuff to be much easier once I just went and learned how I can go straight to machine code. It is way less confusing than I thought it would be. And made so many things click in place for me.<br/><br/> LLVM is an impressive feat of engineering, but it is made for industrial strength things, not for helping people learn the first time. There are definitely a ton of concepts there that assume some background that might be hard.<br/><br/>But of course, don't let that discourage you from going in that direction! It's all about your goals.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735568303.228939"></a>
      <img src="https://avatars.slack-edge.com/2023-02-06/4754627914258_41a8bada781281751d07_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735568303.228939" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Paul Tarvydas</b>
<span style="margin:2em; color:#606060">2024-12-30 06:18</span><br/>
At this very moment, I'm thinking that targeting WASM is a good idea. Mariano's given you some starter links...
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735568446.004879"></a>
      <img src="https://avatars.slack-edge.com/2023-02-06/4754627914258_41a8bada781281751d07_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735568446.004879" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Paul Tarvydas</b>
<span style="margin:2em; color:#606060">2024-12-30 06:20</span><br/>
"Syntax" is not just for the front end human-facing parts of a compiler. You'll note that even LLVM has a "syntax" for its IR, but, it ain't very human-friendly. I consider compilers to be pipelines of little DSLs, each with a specialized, machine-readable syntax. At this point in your compiler project, can you output some sort of text-file with its own specialized, machine-readable syntax? Can you use OhmJS to bolt this specialized "syntax" to LLMV-IR?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735568733.173599"></a>
      <img src="https://avatars.slack-edge.com/2023-07-06/5540564223570_ecafb7e619aa6416f3c1_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735568733.173599" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Iacob Nasca</b>
<span style="margin:2em; color:#606060">2024-12-30 06:25</span><br/>
i never used ohmjs. is ohmjs capable of doing llvm-ir ? that would mean that my source code would go to some custom ir, then use nodejs with ohm to convert that to ir, then something else to convert the llvm-ir to machine code
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735568830.306399"></a>
      <img src="https://avatars.slack-edge.com/2023-07-06/5540564223570_ecafb7e619aa6416f3c1_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735568830.306399" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Iacob Nasca</b>
<span style="margin:2em; color:#606060">2024-12-30 06:27</span><br/>
i would ideally generate machine code myself but it will only work for a targeted platform. i was thinking that if i manage to generate llvm-ir, that would just compile to whatever platform it is capable of.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735569229.476349"></a>
      <img src="https://avatars.slack-edge.com/2023-07-06/5540564223570_ecafb7e619aa6416f3c1_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735569229.476349" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Iacob Nasca</b>
<span style="margin:2em; color:#606060">2024-12-30 06:33</span><br/>
i just need to see real world examples of llvm. how structures are defined, control statements, all the usual things, to understand it better. and then see how can i mold it to what i want/need. i wouldn't want to run it in an interpreter or a vm. i have big goals :slightly_smiling_face:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735569853.713819"></a>
      <img src="https://avatars.slack-edge.com/2019-12-25/886144219253_4377ee2417eb9eaacd4b_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735569853.713819" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jimmy Miller</b>
<span style="margin:2em; color:#606060">2024-12-30 06:44</span><br/>
Not sure if you read haskell, but here's this old idris llvm backend <a href="https://github.com/idris-hackers/idris-llvm/blob/master/src/IRTS/CodegenLLVM.hs">https://github.com/idris-hackers/idris-llvm/blob/master/src/IRTS/CodegenLLVM.hs</a><br/><br/>Other than that, I'm not sure of small examples. But zig source might be worth a read for a bigger real world project. There's also roc <a href="https://github.com/roc-lang/roc/tree/main/crates/compiler/gen_llvm/src/llvm">https://github.com/roc-lang/roc/tree/main/crates/compiler/gen_llvm/src/llvm</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735569881.877579"></a>
      <img src="https://avatars.slack-edge.com/2023-02-06/4754627914258_41a8bada781281751d07_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735569881.877579" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Paul Tarvydas</b>
<span style="margin:2em; color:#606060">2024-12-30 06:44</span><br/>
OhmJS is <b>capable</b> of doing llvm-ir, but, doesn't come with it. You would have to write an llvm-ir outputter yourself. It sounds like you're doing something like that anyway, but keeping it all in your head. When I feel confused about something, I draw a diagram or just write about it. OhmJS doesn't build a compiler back end for you. You still have to do the work. I believe that chopping up the work - divide and conquer - into smaller pieces makes it easier to do the work. Basing the pieces on little-DSLs makes it easier to write down what you're thinking. The hoary part of building a back-end emitter is that you want to target a bunch of very disparate target architectures - you either have to build a custom solution for each target, or, you have to find a way to generalize and cull the common stuff out of the task. LLVM shows where this kind of strive-for-generalization is ultimately gonna go.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735570030.204639"></a>
      <img src="https://avatars.slack-edge.com/2019-12-25/886144219253_4377ee2417eb9eaacd4b_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735570030.204639" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jimmy Miller</b>
<span style="margin:2em; color:#606060">2024-12-30 06:47</span><br/>
And I'll stop pitching my alternative. But I spent years being confused because I kept trying to use system like ohmjs without understanding them. Here is a (very messy) project I did of making an x86-64 assembler, and then building up to a simple language. Helped me way more to not have any tools doing things for me.<br/><br/><a href="https://github.com/jimmyhmiller/PlayGround/blob/4069532cc2366706a9f9ff88a2c41f448f8c908f/rust/assembler/src/main.rs">https://github.com/jimmyhmiller/PlayGround/blob/4069532cc236&hellip;</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735572797.713599"></a>
      <img src="https://avatars.slack-edge.com/2019-12-25/886144219253_4377ee2417eb9eaacd4b_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735572797.713599" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jimmy Miller</b>
<span style="margin:2em; color:#606060">2024-12-30 07:33</span><br/>
I'll throw out the offer though (to anyone) if you are doing a programming language project and want to pair, let me know :slightly_smiling_face:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735572855.694839"></a>
      <img src="https://avatars.slack-edge.com/2023-02-06/4754627914258_41a8bada781281751d07_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735572855.694839" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Paul Tarvydas</b>
<span style="margin:2em; color:#606060">2024-12-30 07:34</span><br/>
I agree with Jimmy's comment. Understanding how something works is harder - and everything looks magical - if you start by looking at decades of incremental evolution of the toolchain. FWIW, here's a 10-minute intro to one of the ultra-simple compilers I learned from <a href="https://www.youtube.com/watch?v=8hQVsTBY_hU">Ron Cain's SmallC</a>. My references to OhmJS are moot unless you already believe that a compiler is just a pipeline with little, custom syntactic APIs in between the passes.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1735655416.881079"></a>
      <img src="https://avatars.slack-edge.com/2023-02-06/4754627914258_41a8bada781281751d07_72.jpg" style="float:left"/>
      <a href="../thinking-together/1735525250.792139.html#1735655416.881079" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Paul Tarvydas</b>
<span style="margin:2em; color:#606060">2024-12-31 06:30</span><br/>
I did something completely unheard of: I followed my own advice. I wrote an extremely simple function in C (a language that I already know) and asked an LLM to compile it to LLVM. Then to explain the result. I include a <a href="https://open.substack.com/pub/programmingsimplicity/p/experiments-with-llvm?r=1egdky&amp;utm_campaign=post&amp;utm_medium=web&amp;showWelcomeOnShare=true">link</a> to the voluminous explanation.<br/><br/>My conclusion: unless you've already built several compilers and enjoy dealing with painful niggly issues like alignment, don't try to understand LLVM just yet. It's been under development for 24 years and, today, addresses a lot of niggly portability issues that can't be grokked just by staring at LLVM-IR (nor, probably the LLVM documentation). Punt. Use some other existing language as your assembler and emit that instead. You can get all of the production-level efficiency you need from Odin or Zig or C or ...
    </td>
  </tr>
  </table>
<hr>
<a href="https://akkartik.name/foc-archive.zip">download this site</a> (~25MB)<br/>
<a href="https://github.com/akkartik/foc-archive">Git repo</a>
</html>
