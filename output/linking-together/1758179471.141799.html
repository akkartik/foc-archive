<html>
<head><meta charset="UTF-8"></head><h2>Archives, <a href="https://futureofcoding.org/community">Future of Coding Community</a>, #linking-together</h2>
  <table>
  <tr>
    <td style="width:72px; vertical-align:top; padding-bottom:1em">
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-18 00:11</span><br/>
Please, share your favorite resources about approaches to versioning of APIs, DB schemas, code libraries etc.<br/>Versions rollout, support, and deprecation still feel unsolved and ad-hoc.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758181009.066229"></a>
      <img src="https://avatars.slack-edge.com/2024-04-04/6922823105585_287ba5559ee1cedd6b98_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758181009.066229" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Marek Rogalski</b>
<span style="margin:2em; color:#606060">2025-09-18 00:36</span><br/>
Very true. That's why static linking (modular monoliths) are so much nicer to work with.<br/>Here is a fun idea: separately built pieces of code often lead to incompatibility and bugs when they exchange data whose schema has changed. Would it be possible to keep the data distributed but send code as messages (as opposed to keeping the code distributed and sending data as messages).
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758181257.274929"></a>
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758181257.274929" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-18 00:40</span><br/>
was hoping for approaches within traditional architectures :sweat_smile: e.g.  <a href="https://blog.datomic.com/2017/01/the-ten-rules-of-schema-growth.html">https://blog.datomic.com/2017/01/the-ten-rules-of-schema-growth.html</a> but, say for SQL databases.<br/>For scenarios where 1 field is no longer enough for &lt;feature&gt; and second is added, but prev api version still needs to be online, etc.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758181502.094099"></a>
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758181502.094099" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-18 00:45</span><br/>
a catalog of such scenarios would help too
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758189693.780859"></a>
      <img src="https://secure.gravatar.com/avatar/80bf3c31da6a1f3f44e68bfe227fd35d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758189693.780859" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>George Campbell</b>
<span style="margin:2em; color:#606060">2025-09-18 03:01</span><br/>
TL;DR: versión 1 and 2 of a library should packaged as deferent dependencies that can be loaded into the runtime at the same time to make migrations possible earlier.<br/><a href="https://jolynch.github.io/posts/semver_considered_harmful/">https://jolynch.github.io/posts/semver_considered_harmful/</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758195605.138679"></a>
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758195605.138679" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-18 04:40</span><br/>
Libraries are the easiest case of all, especially pure ones.<br/>Just(?) make runtime names be different between versions, eg. don't reuse java class names between versions, so many of those could coexist within the same runtime.<br/>Not pure (with some singletons or other equivalents of shared state) are not so trivial though.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758196392.521719"></a>
      <img src="https://avatars.slack-edge.com/2021-09-13/2483463922595_27dffd0e73bd6f709927_72.gif" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758196392.521719" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Tom Larkworthy</b>
<span style="margin:2em; color:#606060">2025-09-18 04:53</span><br/>
libraries -&gt; semver<br/>APIs -&gt; never deprecate, append only. Add route prefix v1/ v2/ etc. for breaking changes. I like the <a href="https://google.aip.dev/180">Google API Design guide</a>, but also the <a href="https://opensource.zalando.com/restful-api-guidelines/">Zalando</a> one.<br/>DBs -&gt; Expand - contract pattern -&gt; Alembic or something similar to remember where we are. Zillions of articles on the expand and contract pattern, I feel that is well trodden best-practice, which also applies to infra changes.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758200979.617399"></a>
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758200979.617399" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-18 06:09</span><br/>
semver sucks<br/>never deprecate api - not viable in the slightest
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758201253.525249"></a>
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758201253.525249" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-18 06:14</span><br/>
"expand and contract pattern" just means "keep several versions alive simultaneously, sometimes deprecate old ones". zero specifics.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758205473.214169"></a>
      <a href="../linking-together/1758179471.141799.html#1758205473.214169" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>George Campbell</b>
<span style="margin:2em; color:#606060">2025-09-18 07:24</span><br/>
This is an overview of how we did hundreds of database migrations while minimizing client burden.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758205535.198939"></a>
      <img src="https://secure.gravatar.com/avatar/dd63ba2bec5f7ecc9f23801caf0ace88.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758205535.198939" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jari</b>
<span style="margin:2em; color:#606060">2025-09-18 07:25</span><br/>
For APIs, I think server should return api version number and client should know how to use it. <a href="https://jarirajari.wordpress.com/2022/02/08/api-design-fundamentals/">https://jarirajari.wordpress.com/2022/02/08/api-design-fundamentals/</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758208121.040019"></a>
      <img src="https://avatars.slack-edge.com/2025-07-24/9258602927281_cbd73c13a9fbc1999873_72.jpg" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758208121.040019" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Daniel Buckmaster</b>
<span style="margin:2em; color:#606060">2025-09-18 08:08</span><br/>
This is my personal canonical text for web API versioning <a href="https://stripe.com/blog/api-versioning">https://stripe.com/blog/api-versioning</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758214951.931749"></a>
      <img src="https://avatars.slack-edge.com/2024-05-29/7194211094498_6d91a808c03324f48378_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758214951.931749" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jared M. Smith</b>
<span style="margin:2em; color:#606060">2025-09-18 10:02</span><br/>
Are you specifically looking for external-facing versioning? For internal, my favorite technique is live code generation with a compiled language, where I can quickly see what I’ve broken.<br/><br/>If I didn’t have legacy architecture, and could follow that concept all the way through, I’d reach for Lamdera: <a href="https://dashboard.lamdera.app/docs/overview">https://dashboard.lamdera.app/docs/overview</a>. Then all API changes and migrations become type-safe mappings. Obviously that doesn’t work for everything, but it’s powerful when you go all-in.<br/><br/>&gt; Libraries are the easiest case of all, especially pure ones.<br/>Elm has spoiled me to everything else. :blush:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758217566.604339"></a>
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758217566.604339" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-18 10:46</span><br/>
Not only external-facing one. But external is the hardest, because it is a superset of all others, and has all the problems, smaller pieces might not have: shared global state across versions (db), unknown open set of clients spread across time (you never know if 4yo client will call some endpoint within next 5minutes), etc. (actually, what else?).<br/><br/>On the day job, I need to figure out cheapest 80% solution to at least detect (if not enforce) backward compatibility breakage, balancing dev speed vs. support burden.<br/>In my after hours project (think unisonlang, but retrofit, not green field), I need to figure out how "library release artifacts" look like across the versions, so those would cooperate with the rest of similar libraries or projects.<br/><br/>So any strategies, tactics, povs, tips and tricks, gotchas, usecases, – help, at least to map out the problem/solution space, before grounding onto particular tech stack.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758217825.041959"></a>
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758217825.041959" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-18 10:50</span><br/>
re: semver sucks<br/>and about decomposition of "change" into backward in/compatible ops<br/>here:<br/>spec – roughly json schema, but for clojure data and fns,<br/>clojure – lisp on jvm<br/>maven – <b>the</b> packages repository for jvm langs<br/><a href="https://www.youtube.com/watch?v=oyLBGkS5ICk">https://www.youtube.com/watch?v=oyLBGkS5ICk</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758217879.596049"></a>
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758217879.596049" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-18 10:51</span><br/>
re: stripe's runtime api response migrations: <a href="https://www.inkandswitch.com/cambria/">https://www.inkandswitch.com/cambria/</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758220852.548819"></a>
      <img src="https://avatars.slack-edge.com/2021-09-13/2483463922595_27dffd0e73bd6f709927_72.gif" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758220852.548819" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Tom Larkworthy</b>
<span style="margin:2em; color:#606060">2025-09-18 11:40</span><br/>
expand and contract is quite clear <a href="https://www.prisma.io/dataguide/types/relational/expand-and-contract-pattern">https://www.prisma.io/dataguide/types/relational/expand-and-contract-pattern</a>. You add expressibity (new structure), migrate the usage, then contract expressivity (remove the old). If you want to deprecate an API its the same thing except the migrating the usage involves telling every caller to stop using the old API which is not practical for public APIs.<br/><br/>At Google it was common to find the V1 proto was transforming to the V2 proto and then just calling the internal v2 handler. v1 was never deprecated, but there was not 2 business logic handlers. Its not always possible to nest, depending on how bad you messed up the v1 design. I always work from the assumption you can never deprecate an API if it is public. Internal APIs => expand and contract.<br/><br/>Google API guide prohibits removing fields from protos, and the modern gRPC removed <tt>required</tt> fields because they prevent future migrations. Every long lived proto message is stacked with deprecated fields, but they are at least costless on the wire.<br/><br/>A fancy DB migration technology I keep staring lustfully at is <a href="https://pgroll.com/blog/introducing-pgroll-zero-downtime-reversible-schema-migrations-for-postgres">https://pgroll.com/blog/introducing-pgroll-zero-downtime-rev&hellip;</a> but I have never used it (its docs even say it implements expand and contract).
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758244077.028709"></a>
      <img src="https://secure.gravatar.com/avatar/5caead19f5842ccdc759880c60e7c699.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758244077.028709" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Bill Mill</b>
<span style="margin:2em; color:#606060">2025-09-18 18:07</span><br/>
“never deprecate API” worked very well for the team I used it on for a large project that had a high request load and a low error rate, for whatever that experience is worth<br/><br/>Not saying you need to use it, but i think dismissing it out of hand is unwise
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758297989.742139"></a>
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758297989.742139" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-19 09:06</span><br/>
<a href="https://killedbygoogle.com/">https://killedbygoogle.com/</a> :))<br/>There are plenty of business situatoins where "never deprecate an api" is just not an option.<br/>Even from mechanical new-data-required point of view (legal, financial, regulation, gov id auth, etc.), not to mention all the flavors of "we can't afford to spend time on it, so iphone4 support goes bye bye".  E.g. not everything has sensible (legally viable) defaults to upgrade v1 req to v2 req to return v2 resp.<br/>"you should have never screwed up v1" – not a strategy.<br/>"I've never had a use case where I needed to deprecate things" – not a tactic.<br/>"never deprecating things costs you nothing (or is always 1) affordable 2) by you)" – is just not true.<br/>"you screwed up your architecture, and now versioning is a mess. just file for bankruptcy, or start over" – rarely an option.<br/><br/>--<br/>anyways, reading through the linked articles, thanks!
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758298209.208819"></a>
      <img src="https://avatars.slack-edge.com/2021-09-13/2483463922595_27dffd0e73bd6f709927_72.gif" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758298209.208819" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Tom Larkworthy</b>
<span style="margin:2em; color:#606060">2025-09-19 09:10</span><br/>
the API is up tho <a href="https://developers.google.com/workspace/admin/reports/v1/appendix/activity/jamboard">https://developers.google.com/workspace/admin/reports/v1/app&hellip;</a> :rolling_on_the_floor_laughing:
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758298307.259419"></a>
      <img src="https://avatars.slack-edge.com/2024-07-04/7377091009748_d0343f70ca57c18eeb41_72.png" style="float:left"/>
      <a href="../linking-together/1758179471.141799.html#1758298307.259419" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-19 09:11</span><br/>
some of "graceful" deprecation tactics:<br/>• public schedule way ahead of time <a href="https://developers.google.com/google-ads/api/docs/sunset-dates#timetable">https://developers.google.com/google-ads/api/docs/sunset-dates#timetable</a><br/>• (mobile apps) popups for some use cases (apis/workflows): "please upgrade an app", e.g. when payment processor needs more user info, and the only way to collect it in app - app store release, and reinstall
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1758298418.400279"></a>
      <a href="../linking-together/1758179471.141799.html#1758298418.400279" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>misha</b>
<span style="margin:2em; color:#606060">2025-09-19 09:13</span><br/>
yeah :smile: <a href="https://toolbar.google.com/buttons/apis/howto_guide.html">https://toolbar.google.com/buttons/apis/howto_guide.html</a>
    </td>
  </tr>
  </table>
<hr>
<a href="https://akkartik.name/foc-archive.zip">download this site</a> (~25MB)<br/>
<a href="https://github.com/akkartik/foc-archive">Git repo</a>
</html>
