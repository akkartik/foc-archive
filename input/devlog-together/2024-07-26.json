[
    {
        "text": "Hello- little update on <http:\/\/www.holograph.so|www.holograph.so> - formerly known as the <https:\/\/futureofcoding.slack.com\/archives\/CCL5VVBAN\/p1716413598853019|propagator simulator>- I am working on performance had had the nerdiest proud moment ever and figured of all people, ya'll would appreciate it.\n\nI built a propagation speed profiler in holograph to test how fast propagation was occurring for a little recursively incrementing loop (in the grey box). Im using a buffer to collect and average the values over time and another buffer to collect and display averages as a chart. You can see the propagation speed and compare it with the total Propagations Per Second (PPS in the top left). Before this work i was at a hard cap of 60 pps and now total pps often gets over 300. Still a long road ahead but it feels like a big win right now :tada:\n\nIn any case, this example demonstrates major stuff added since my first post here:\n• Get and set shape properties\n• Trigger click events\n• Dashed arrows that don't fire propagators\n• Async functions\/fetch\/await syntax\n• Lots of cool examples to explore- including some made my folk here :)\nHope ya'll enjoyed the update! If ya'll find anything wonky or have ideas let me know !",
        "files": [
            {
                "id": "F07ECFZPEJG",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U06BUK2M2RH",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "y435Y",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hello- little update on "
                            },
                            {
                                "type": "link",
                                "url": "http:\/\/www.holograph.so",
                                "text": "www.holograph.so"
                            },
                            {
                                "type": "text",
                                "text": " - formerly known as the "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/futureofcoding.slack.com\/archives\/CCL5VVBAN\/p1716413598853019",
                                "text": "propagator simulator"
                            },
                            {
                                "type": "text",
                                "text": "- I am working on performance had had the nerdiest proud moment ever and figured of all people, ya'll would appreciate it.\n\nI built a propagation speed profiler in holograph to test how fast propagation was occurring for a little recursively incrementing loop (in the grey box). Im using a buffer to collect and average the values over time and another buffer to collect and display averages as a chart. You can see the propagation speed and compare it with the total Propagations Per Second (PPS in the top left). Before this work i was at a hard cap of 60 pps and now total pps often gets over 300. Still a long road ahead but it feels like a big win right now "
                            },
                            {
                                "type": "emoji",
                                "name": "tada",
                                "unicode": "1f389"
                            },
                            {
                                "type": "text",
                                "text": "\n\nIn any case, this example demonstrates major stuff added since my first post here:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Get and set shape properties"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Trigger click events"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Dashed arrows that don't fire propagators"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Async functions\/fetch\/await syntax"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Lots of cool examples to explore- including some made my folk here :)"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0,
                        "offset": 0,
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nHope ya'll enjoyed the update! If ya'll find anything wonky or have ideas let me know !"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1722025110.960059",
        "edited": {
            "user": "U06BUK2M2RH",
            "ts": "1722030193.000000"
        },
        "client_msg_id": "c59f44d5-5205-4fe5-a662-5546703c2a57",
        "thread_ts": "1722025110.960059",
        "reply_count": 6,
        "reply_users_count": 3,
        "latest_reply": "1726264756.538639",
        "reply_users": [
            "UC2A2ARPT",
            "U06BUK2M2RH",
            "U0378MDUG1Y"
        ],
        "replies": [
            {
                "user": "UC2A2ARPT",
                "ts": "1722030718.393509"
            },
            {
                "user": "U06BUK2M2RH",
                "ts": "1722031389.546039"
            },
            {
                "user": "U0378MDUG1Y",
                "ts": "1722061276.933679"
            },
            {
                "user": "U06BUK2M2RH",
                "ts": "1722091824.516309"
            },
            {
                "user": "U06BUK2M2RH",
                "ts": "1726261157.024729"
            },
            {
                "user": "UC2A2ARPT",
                "ts": "1726264756.538639"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "reactions": [
            {
                "name": "heart",
                "users": [
                    "UFEQUBNNT",
                    "U03R0B9U1GD",
                    "U0123H7JRDM",
                    "UML4ZEKDK",
                    "UCUSW7WVD",
                    "UJBAJNFLK",
                    "U0798H9AXFF",
                    "U06JCQL6ERJ",
                    "U06SS0DHZD1",
                    "U07BD7U4S4R"
                ],
                "count": 10
            },
            {
                "name": "cake",
                "users": [
                    "UC2A2ARPT",
                    "U013ZLJARC7",
                    "U06SS0DHZD1"
                ],
                "count": 3
            }
        ]
    },
    {
        "user": "UC2A2ARPT",
        "type": "message",
        "ts": "1722030718.393509",
        "client_msg_id": "7c2ab83c-1b88-4607-9420-042f941e51b6",
        "text": "Do you know what the current bottleneck is?\n\nLike, if you run this without rendering, does it get 100x faster?",
        "team": "T5TCAFTA9",
        "user_team": "T5TCAFTA9",
        "source_team": "T5TCAFTA9",
        "user_profile": {
            "avatar_hash": "gf94d2ed5e18",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6f94d2ed5e188be9865a531021b0afcd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png",
            "first_name": "Ivan",
            "real_name": "Ivan Reese",
            "display_name": "Ivan Reese",
            "team": "T5TCAFTA9",
            "name": "ivanreese",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722025110.960059",
        "parent_user_id": "U06BUK2M2RH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Z8FzF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Do you know what the current bottleneck is?\n\nLike, if you run this without rendering, does it get 100x faster?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "I wish. Rendering is batched and throttled to requestAnimationFrame and rendering together takes maybe 10% cpu (purple)? The main propagate function is maybe 50% (cyan). Maybe 20% idle (all propagation is async\/settimeout rn so min 4ms delay there). Going to have to really optimize the propagate function to really push the limit which shouldn’t be too bad since it’s currently garbage. And reduce unnecessary propagation. And parallelizing\/webworkers. And eventually I’ll probs want the main propagation logic in c\/wasm. Just gonna be a slog haha",
        "files": [
            {
                "id": "F07EABK1XUK",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U06BUK2M2RH",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "oYzmb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I wish. Rendering is batched and throttled to requestAnimationFrame and rendering together takes maybe 10% cpu (purple)? The main propagate function is maybe 50% (cyan). Maybe 20% idle (all propagation is async\/settimeout rn so min 4ms delay there). Going to have to really optimize the propagate function to really push the limit which "
                            },
                            {
                                "type": "text",
                                "text": "shouldn’t"
                            },
                            {
                                "type": "text",
                                "text": " be too bad since it’s currently garbage. And reduce unnecessary propagation. And parallelizing\/webworkers. And eventually I’ll probs want the main propagation logic in c\/wasm. Just gonna be a slog haha"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1722031389.546039",
        "client_msg_id": "9CB454D6-4E1F-47BE-850D-18FEF83C54B1",
        "thread_ts": "1722025110.960059",
        "parent_user_id": "U06BUK2M2RH"
    },
    {
        "user": "U0378MDUG1Y",
        "type": "message",
        "ts": "1722061276.933679",
        "client_msg_id": "D978E5F0-1406-4D35-B0C8-B94FE9B02E1D",
        "text": "Are you still diffing tldraw nodes of each update?",
        "team": "T5TCAFTA9",
        "user_team": "T5TCAFTA9",
        "source_team": "T5TCAFTA9",
        "user_profile": {
            "avatar_hash": "1092a4f97098",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-03-23\/3286745266387_1092a4f970985ebc8d2b_72.png",
            "first_name": "Christopher",
            "real_name": "Christopher Shank",
            "display_name": "",
            "team": "T5TCAFTA9",
            "name": "chris.shank.23",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722025110.960059",
        "parent_user_id": "U06BUK2M2RH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JF5WR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Are you still diffing tldraw nodes of each update?"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]