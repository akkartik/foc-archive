<html>
<head><meta charset="UTF-8"></head><h2>Archives, <a href="https://futureofcoding.org/community">Future of Coding Community</a>, #of-graphics</h2>
  <table>
  <tr>
    <td style="width:72px; vertical-align:top; padding-bottom:1em">
      <img src="https://avatars.slack-edge.com/2017-08-20/228447816352_649181907e06ec450c64_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Stefan Lesser</b>
<span style="margin:2em; color:#606060">2020-07-03 22:32</span><br/>
A comprehensive look at what’s new in Metal from WWDC2020. TBDR is coming to Macs with Apple Silicon, harmonizing CPU and GPU architectures across all Apple devices. This comes after they’ve been designing their own CPUs for a decade and their own GPUs for six years.<br/><br/>The GPU compute capabilities seem very mature. Have a look at the function pointer feature and the ray tracing APIs.<br/><br/>Seems like Apple is ramping up to position this as a serious alternative to the energy-hungry overdraw-heavy classic world of desktop graphics. <br/>Will be interesting to see how the industry reacts to a different approach of slicing the market: previously you’d build for either PC/console or mobile, mobile often being second thought ported separately if at all. Soon you can access part of mobile + part of notebook/desktop (+ perhaps a more capable Apple TV which would qualify as a gaming console?) with the same architecture, but of course limited to Apple devices. It was easy to ignore Macs for gaming in the past, but now it basically comes “for free” if you consider shipping for mobile/iOS.<br/><br/><a href="http://metalkit.org/2020/07/03/wwdc20-whats-new-in-metal.html">http://metalkit.org/2020/07/03/wwdc20-whats-new-in-metal.html</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593841756.210000"></a>
      <img src="https://avatars.slack-edge.com/2019-03-27/582042668721_465336060ae83dc74288_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593841756.210000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Wouter van Oortmerssen</b>
<span style="margin:2em; color:#606060">2020-07-03 22:49</span><br/>
correction: it is not an alternative to overdraw, it just makes overdraw cheap
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593848500.210300"></a>
      <img src="https://avatars.slack-edge.com/2018-08-13/414472553296_f3eb3ca69d86feb77929_72.png" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593848500.210300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Gregg Tavares</b>
<span style="margin:2em; color:#606060">2020-07-04 00:41</span><br/>
I absolutely want Apple to be a gaming platform, specifically Mac. But the current GPUs are not remotely fast enough even in the top Macbook Pro for anything other than casual gaming. The 3 yr old NVidia 1060 GTX in my 2017 Razer is often twice as fast as the AMD Radeon Pro 5500M in the top end Macbook Pro 16"<br/><br/>If you only care about casual games then an AppleTV probably already has a fast enough GPU but if you want Cyberpunk 2077 or other AAA games on Mac or anywhere else Apple is going to have to step up their game.  I don't believe TBDR magically will make them competitive with what AAA games need but I'd be happy if graphics didn't suck on Mac and all the GPU and gaming work switched to Mac so I could get rid of my PC. I don't expect it to happen though.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593849799.210500"></a>
      <img src="https://avatars.slack-edge.com/2019-02-05/542651515888_326328f75c3f2a08544c_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593849799.210500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Edward de Jong</b>
<span style="margin:2em; color:#606060">2020-07-04 01:03</span><br/>
If Apple promotes some unique-to-them technology for graphics, it won't help at all. The big game companies need uniformity of hardware, and any time there is a weak spot in some area, their AAA titles get built around those weak spots. In effect, the least powerful platform sets the expectations and technologies used for a project. Sure you can turn off fancy shadows in some games to help keep the frame rates up, but it is pure torture for game companies when hardware firms come out with some unique-to-them feature set that is only useful in rare conditions.  The fact that XBOX and PS are so close in hardware technologies makes their life so much easier.<br/><br/>Another example is the instruction sets of the various intel processors. There is such a random assortment of availability of instructions, most programs don't even bother using the fancy new instructions, because it is less code overall just to go with software implementations of those functions, because your going to need to test the software version anyway. Patching code and having alternate versions just makes more work for the software vendor for perhaps a thousandth of a percent overall improvement in the product. It just isn't worth the effort.<br/><br/>Apple is a control freak, and would make the raw metal for the cases if they could. They have no great semiconductor physicist staff, so they will remain dependent on their foundry (TSMC), and of course ARM to continue to improve the core designs.  Given that their mobile devices outsell the desktop machines by somewhere between 50 and 100:1 in unit volume, using the same chips for desktop is a logical cost saving measure. It is going to cost some article claimed 6% of Intel's total income; a huge blow for Intel.<br/><br/>Intel has seen this coming for years, they have been furiously working on the issue of lowering power consumption of their chips to match ARM, and have made great progress. I expect the coming battle between ARM and Intel to be one of the most titanic business struggles in history.  Great for consumers, the result of this battle will probably be a 10x improvement in the price * performance *power results.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593856235.215400"></a>
      <img src="https://avatars.slack-edge.com/2017-08-20/228447816352_649181907e06ec450c64_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593856235.215400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Stefan Lesser</b>
<span style="margin:2em; color:#606060">2020-07-04 02:50</span><br/>
&gt; correction: it is not an alternative to overdraw, it just makes overdraw cheap<br/>&gt; <br/><span style="background-color:#ccf">@Wouter van Oortmerssen</span> Would you mind elaborating? Do you mean Apple’s TBDR approach “makes overdraw cheap”?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593872396.219100"></a>
      <img src="https://secure.gravatar.com/avatar/6f94d2ed5e188be9865a531021b0afcd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593872396.219100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Ivan Reese</b>
<span style="margin:2em; color:#606060">2020-07-04 07:19</span><br/>
&gt; _Note: The Apple Silicon GPU will return false when queried for <tt>isLowPower</tt> because its performance is at least as good as the discrete GPU performance in current Macs, while offering a much better performance/watt ratio._<br/>It's probably safe to assume Apple Silicon will feature much more powerful GPUs than iPhone/iPad, but where have they given any indication of <em>how much</em> more powerful?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593876270.219500"></a>
      <img src="https://avatars.slack-edge.com/2019-03-27/582042668721_465336060ae83dc74288_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593876270.219500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Wouter van Oortmerssen</b>
<span style="margin:2em; color:#606060">2020-07-04 08:24</span><br/>
<span style="background-color:#ccf">@magicmouse94937</span> this (tile rendering) is not "unique to them", many mobile chips have been using these techniques for ages, and most big rendering engines are going to be well aware of them.. if anything its new to apple laptops. Metal if anything is a bigger stumbling block.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593876375.219700"></a>
      <img src="https://avatars.slack-edge.com/2019-03-27/582042668721_465336060ae83dc74288_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593876375.219700" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Wouter van Oortmerssen</b>
<span style="margin:2em; color:#606060">2020-07-04 08:26</span><br/>
<span style="background-color:#ccf">@Stefan Lesser</span> yes, if you have N triangles overlapping you're still drawing N triangles there, but having that resolved all within a tile makes it cheap, and allows it to run the pixel shader just once.. a desktop chip, if its unlucky, not just has to touch memory N times, but if the engine accidentally renders them back to front, has to run the pixels shader N times also
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593889260.230800"></a>
      <img src="https://avatars.slack-edge.com/2017-08-20/228447816352_649181907e06ec450c64_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593889260.230800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Stefan Lesser</b>
<span style="margin:2em; color:#606060">2020-07-04 12:01</span><br/>
<span style="background-color:#ccf">@Wouter van Oortmerssen</span> My understanding is that the architecture is encouraging you to avoid overdrawing to get the most out of it by using hidden surface removal, draw everything in the right order, and use acceleration structures. Isn’t that different to other architectures where overdrawing is basically the efficient approach and you throw more GPU cores at it?<br/><br/>We had another thread here where we were discussing the “software rendering” approach of the new Unreal 5 engine which hinted at a shift in the direction of compute vs. classic pipelines. It looks to me that TBDR and in particular this architecture are build for compute-heavy approaches whereas classic GPU architectures are still closer to the earlier fixed-function pipelines.<br/><br/>I’m not an expert on this, so really interested in understanding this better and please correct me if I’m wrong!
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593891917.231000"></a>
      <img src="https://secure.gravatar.com/avatar/34185a5422416f82b3e4a62964f2866b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593891917.231000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Doug Moen</b>
<span style="margin:2em; color:#606060">2020-07-04 12:45</span><br/>
For me, the importance of Apple Silicon is that they won't port OpenGL to Apple Silicon, so it will be dropped. Although I'd like my project to run on MacOS, I don't have the resources to maintain a separate Metal port. For me, the main choices are between targeting Vulkan (Linux, Windows, Android, and emulated on MacOS using Molten) vs targeting WebGPU (which also runs in a web browser). Either way, the latest features that are exclusive to Metal won't be available to me. Since I'm not writing an AAA game, I will try WebGPU and hope that the limitations will be acceptable.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593892206.231200"></a>
      <img src="https://secure.gravatar.com/avatar/34185a5422416f82b3e4a62964f2866b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593892206.231200" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Doug Moen</b>
<span style="margin:2em; color:#606060">2020-07-04 12:50</span><br/>
I don't see evidence that Apple has ever been particularly interested in supporting AAA games on MacOS. Especially at this point, with Metal, I think they primarily want people to develop mobile-class games exclusively for iOS (and secondarily MacOS). Big game engines have the resources to support MacOS and Metal as a secondary platform, but the games developed using those game engines will not be primarily developed, tested or played on the Mac or iOS. IMO.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593892557.231400"></a>
      <img src="https://secure.gravatar.com/avatar/34185a5422416f82b3e4a62964f2866b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593892557.231400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Doug Moen</b>
<span style="margin:2em; color:#606060">2020-07-04 12:55</span><br/>
As a coda, for me personally, the future of coding has never been "Apple only". I'd rather drop Apple as a platform than develop exclusively for it.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593894728.235000"></a>
      <img src="https://avatars.slack-edge.com/2019-03-27/582042668721_465336060ae83dc74288_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593894728.235000" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Wouter van Oortmerssen</b>
<span style="margin:2em; color:#606060">2020-07-04 13:32</span><br/>
<span style="background-color:#ccf">@Stefan Lesser</span> but that hidden surface removal is done by the hardware.. the software that renders to it is still largely the same
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593894749.235200"></a>
      <img src="https://avatars.slack-edge.com/2019-03-27/582042668721_465336060ae83dc74288_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593894749.235200" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Wouter van Oortmerssen</b>
<span style="margin:2em; color:#606060">2020-07-04 13:32</span><br/>
take a simple example: render 2 triangles that have some amount of overlap
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593894800.235400"></a>
      <img src="https://avatars.slack-edge.com/2019-03-27/582042668721_465336060ae83dc74288_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593894800.235400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Wouter van Oortmerssen</b>
<span style="margin:2em; color:#606060">2020-07-04 13:33</span><br/>
classical hardware, back to front: each triangle gets rasterized (pixels are determined), shaded, and written to the frame buffer.. this is maximally expensive
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593894865.235600"></a>
      <img src="https://avatars.slack-edge.com/2019-03-27/582042668721_465336060ae83dc74288_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593894865.235600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Wouter van Oortmerssen</b>
<span style="margin:2em; color:#606060">2020-07-04 13:34</span><br/>
classical hardware, front to back: the second triangle will have some pixels for which the depth buffer says there is a closer pixel, so will not run the shader for them.. still, has to touch memory to figure this out
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1593894980.235800"></a>
      <img src="https://avatars.slack-edge.com/2019-03-27/582042668721_465336060ae83dc74288_72.jpg" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1593894980.235800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Wouter van Oortmerssen</b>
<span style="margin:2em; color:#606060">2020-07-04 13:36</span><br/>
tile based renderer, any order: can track for each pixel in the tile exactly which triangle touches it, so it runs the shader exactly once per pixel.. and tracking these pixel is all in on-chip memory
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1594017606.236200"></a>
      <img src="https://avatars.slack-edge.com/2018-08-13/414472553296_f3eb3ca69d86feb77929_72.png" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1594017606.236200" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Gregg Tavares</b>
<span style="margin:2em; color:#606060">2020-07-05 23:40</span><br/>
I don't personally think game companies worry so much about APIs. They are all effectively the same. They all have a way to write shaders, they all have a way to provide streamed data to those shaders (typically vertex data), they all have a way to read from sampled arrays (textures) and to write to arrays (textures). The rest is mostly trivial differences in APIs.<br/><br/>The major engines (unreal/unity) already generate their shaders per platform so it's relatively trivial to output a different shader language. The rest isn't all that much work.<br/><br/>There are perf issues, like for a large number of draw calls OpenGL is much slower than Vulkan/Metal/DirectX12 but most engines already optimized for draw calls because it was important in the older APIs (OpenGL/DirectX9) so when they upgraded to Vulkan/Metal/DirectX12 they didn't see much of an improvement (plenty of GDC presentations on this)<br/><br/>Sure, a company making their own engine might complain about the extra work for supporting another API but in the large scheme of a game it's a tiny amount of work.<br/><br/>As for tile based renderers they have pluses and minuses. The plus is they help with overdraw for opaque pixels. The minus is they often hit a perf cliff for translucent pixels since they gambled on the tradeoff, slower pixel options by trying to optimize away extra pixel operations. When it becomes impossible to optimize those operations away (like for particle effects, smoke, glows, transparent windows) suddenly that tradeoff fails. There are also plenty of places where they run out of memory for their internal structures and then have to rasterize what they have so far, you then get a big perf hit.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1594133937.237900"></a>
      <img src="https://avatars.slack-edge.com/2019-09-09/753296041488_3447742b735b104a7ff2_72.png" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1594133937.237900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Don Abrams</b>
<span style="margin:2em; color:#606060">2020-07-07 07:58</span><br/>
Ugh all of this still requires low level scheduling of memory, tiles, and such. There's gotta be some kind of hotspot-style implementation for GPU programming that doesn't involve SIMD level coding and low-level optimizations for memory bandwidth vs other things. Apple doesn't seem to be going that way, but instead just optimizing for their transparency+blur with rounded corners style (cough windows)...
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1594133985.238100"></a>
      <img src="https://avatars.slack-edge.com/2019-09-09/753296041488_3447742b735b104a7ff2_72.png" style="float:left"/>
      <a href="../of-graphics/1593840778.209800.html#1594133985.238100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Don Abrams</b>
<span style="margin:2em; color:#606060">2020-07-07 07:59</span><br/>
I suppose that making the right thing the easy thing is an achievement for them
    </td>
  </tr>
  </table>
<hr>
<a href="https://akkartik.name/foc-archive.zip">download this site</a> (~25MB)<br/>
<a href="https://github.com/akkartik/foc-archive">Git repo</a>
</html>
