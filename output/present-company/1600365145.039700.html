<html>
<head><meta charset="UTF-8"></head><h2>Archives, <a href="https://futureofcoding.org/community">Future of Coding Community</a>, #present-company</h2>
  <table>
  <tr>
    <td style="width:72px; vertical-align:top; padding-bottom:1em">
      <img src="https://avatars.slack-edge.com/2020-04-19/1070853245589_9c42167d8bfa4cbf26ad_72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Nuno Leiria</b>
<span style="margin:2em; color:#606060">2020-09-17 10:52</span><br/>
Does anyone know of prior art on hot-reloading of data structures in programming languages? Similar to this: <a href="https://mun-lang.org/blog/2020/05/01/memory-mapping/">https://mun-lang.org/blog/2020/05/01/memory-mapping/</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600366465.039900"></a>
      <img src="https://avatars.slack-edge.com/2018-07-09/395086754178_7f0f1c0238ec02befdab_72.jpg" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600366465.039900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Mariano Guerra</b>
<span style="margin:2em; color:#606060">2020-09-17 11:14</span><br/>
automatic? or can it be enabled by the runtime but manual? the Erlang virtual machine supports data structure migration on hot-reloading of a new release
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600374148.040400"></a>
      <img src="https://secure.gravatar.com/avatar/aa31b79adedc3f60547769f1a8971ba6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600374148.040400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Emmanuel Oga</b>
<span style="margin:2em; color:#606060">2020-09-17 13:22</span><br/>
so that mun lang blog post, seems like the hot reloading requires a clever algorithm depending on whether the name of the fields of the struct are the same as before, etc. I wonder if a more intentional approach could work, like a refactoring tool that tells both the editor and the running program a certain field was migrated from one thing to the next.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600374788.040600"></a>
      <img src="https://avatars.slack-edge.com/2020-09-10/1362285586740_cbf2c32d7d6b8886a1b2_72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600374788.040600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Henning Dieterichs</b>
<span style="margin:2em; color:#606060">2020-09-17 13:33</span><br/>
I've been exploring hot reload in nodejs for a while now. I figured that most algorithms run in a couple of milliseconds, so rather than doing some unstable automatic migrations, restarting the last pure function + manual data migration works reasonable well.<br/>(<a href="https://github.com/hediet/node-reload">https://github.com/hediet/node-reload</a>)
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600375547.041100"></a>
      <img src="https://avatars.slack-edge.com/2020-04-19/1070853245589_9c42167d8bfa4cbf26ad_72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600375547.041100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Nuno Leiria</b>
<span style="margin:2em; color:#606060">2020-09-17 13:45</span><br/>
<span style="background-color:#ccf">@Mariano Guerra</span> Automatic. Developer makes changes to a data structure at runtime (struct, class, etc), those changes are picked up and propagated, and the program continues to run normally.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600416369.001100"></a>
      <img src="https://avatars.slack-edge.com/2021-03-12/1859691333940_e169f54bbaf8b9b36b12_72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600416369.001100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Konrad Hinsen</b>
<span style="margin:2em; color:#606060">2020-09-18 01:06</span><br/>
Live programming systems have been doing this for decades. Smalltalk is probably the best example to study. When you change a class, all its instances get updated. Common Lisp has such a mechanism as well, but it's not automatic.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600419529.001400"></a>
      <img src="https://secure.gravatar.com/avatar/3ae6d55db9d15b79bc683a8031fc2588.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600419529.001400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>William Taysom</b>
<span style="margin:2em; color:#606060">2020-09-18 01:58</span><br/>
Picked up and propagated is the trick.  There are a few different senses of propagation.  In Smalltalk and Lisp usually, adding a field or whatever will work with existing objects, but the new field won't have a value.  So there might be a bit of migration involved.  In other cases (Ruby sometimes), you might rebind the name MyRecord to something new so now the old my records refer to a class, or whatever, that isn't called MyRecord anymore.  A third thing you might want to do (what I often do) is you make a change and now you want to go back and rerun (over some scope) with that change replacing the objects with the new alternative.  And then, of course, you want to compare to see what the knock-on effects are of the change are between patched and unpatched possible worlds.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600453456.002800"></a>
      <img src="https://avatars.slack-edge.com/2020-04-19/1070853245589_9c42167d8bfa4cbf26ad_72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600453456.002800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Nuno Leiria</b>
<span style="margin:2em; color:#606060">2020-09-18 11:24</span><br/>
<span style="background-color:#ccf">@Konrad Hinsen</span> <span style="background-color:#ccf">@William Taysom</span> Thanks, could you point me to any references or papers I could have a look at specifically about this?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600495339.004100"></a>
      <img src="https://avatars.slack-edge.com/2021-03-12/1859691333940_e169f54bbaf8b9b36b12_72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600495339.004100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Konrad Hinsen</b>
<span style="margin:2em; color:#606060">2020-09-18 23:02</span><br/>
<span style="background-color:#ccf">@Nuno Leiria</span> Sorry, no references. I know these systems as a user, not as an academic.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600497414.009500"></a>
      <img src="https://secure.gravatar.com/avatar/3ae6d55db9d15b79bc683a8031fc2588.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600497414.009500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>William Taysom</b>
<span style="margin:2em; color:#606060">2020-09-18 23:36</span><br/>
Curiously, no particular paper stands out in my mind.  The only academic insight that I have is that the semantics of how state responds to a change in definition corresponds to an ordering of monads.  And I only remember this faintly as a good example of how monads don't commute (as a rule) and why one shouldn't be too disappointed.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600584385.018100"></a>
      <img src="https://avatars.slack-edge.com/2021-03-12/1859691333940_e169f54bbaf8b9b36b12_72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600584385.018100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Konrad Hinsen</b>
<span style="margin:2em; color:#606060">2020-09-19 23:46</span><br/>
That’s indeed a very practical problem as well. Illustration: today’s Pharo stores code as a sequence of instructions in Git repositories. But those instructions don’t reflect the order in which the changes were made interactively. If you understand the issues, that’s not too hard to deal with, but it must be hell for beginners.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600839710.000100"></a>
      <img src="https://secure.gravatar.com/avatar/3ae6d55db9d15b79bc683a8031fc2588.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600839710.000100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>William Taysom</b>
<span style="margin:2em; color:#606060">2020-09-22 22:41</span><br/>
You haven't programmed Smalltalk until you get your image into an unrecoverable state!  Now that we're living in the 21st  and the After Times (times after Git in this case), there really ought to be a better way to manage images.  I mean there's the whole pit of CRDTs.  Surely a new image based programming language should emerge out of it.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600844337.000300"></a>
      <img src="https://avatars.slack-edge.com/2021-03-12/1859691333940_e169f54bbaf8b9b36b12_72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600844337.000300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Konrad Hinsen</b>
<span style="margin:2em; color:#606060">2020-09-22 23:58</span><br/>
An interesting one is <a href="https://www.unisonweb.org/">Unison. </a>Its codebase is logically an append-only datastructure (but I suppose there is some form garbage collection). And although they call it a codebase, it stores some data as well (everything that has a global name associated with it). It's not quite an image, in particular because it doesn't store the run-time state. You can't "save a session" and take it up again. But it has none of the order-related issues because everything is immutable, except for the names.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600868355.002700"></a>
      <img src="https://avatars.slack-edge.com/2023-10-13/6057269405632_8ea58fc41bd6baa7dda6_72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600868355.002700" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Jack Rusher</b>
<span style="margin:2em; color:#606060">2020-09-23 06:39</span><br/>
<span style="background-color:#ccf">@Nuno Leiria</span> +1 to what <span style="background-color:#ccf">@William Taysom</span> and <span style="background-color:#ccf">@Konrad Hinsen</span> said. I'll add that <a href="https://en.wikipedia.org/wiki/The_Art_of_the_Metaobject_Protocol">The Art of the Metaobject Protocol</a> is a good place to read more about advanced object systems that have things like updating of instances when class prototypes are changed, as Konrad described.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1600947824.000400"></a>
      <img src="https://avatars.slack-edge.com/2020-04-19/1070853245589_9c42167d8bfa4cbf26ad_72.png" style="float:left"/>
      <a href="../present-company/1600365145.039700.html#1600947824.000400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Nuno Leiria</b>
<span style="margin:2em; color:#606060">2020-09-24 04:43</span><br/>
Thanks <span style="background-color:#ccf">@Jack Rusher</span>, I'll have a look. I've also since found this paper which gets into the practice of using lisp interactively <a href="http://www.softwarepreservation.org/projects/interactive_c/bib/Sandewall-1978.pdf">http://www.softwarepreservation.org/projects/interactive_c/b&hellip;</a>
    </td>
  </tr>
  </table>
<hr>
<a href="https://akkartik.name/foc-archive.zip">download this site</a> (~25MB)<br/>
<a href="https://github.com/akkartik/foc-archive">Git repo</a>
</html>
