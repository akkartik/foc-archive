[
    {
        "user": "UC21F8Q48",
        "type": "message",
        "ts": "1543422318.106000",
        "client_msg_id": "6e3f8ba2-55bf-4489-a6e2-7879d2adc6b8",
        "text": "&gt; Proto definitions would commonly expand to a hundred fields, all optional. So one often couldn’t look at another team’s proto definition and easily deduce the constraints, such as which fields had to exist together or be used disjointedly.\nThis is why API descriptions desperately need to embrace sum types (aka “variants” aka “tagged unions”). I’m still waiting for sum types to become more widely discovered outside of the FP community. JSON of course doesn’t have any first-class concept of sum types. Cap’n Proto does though (calls them “unions”), and it looks like you can do sums in Protocol Buffer using `oneof`.",
        "team": "T5TCAFTA9",
        "user_team": "T5TCAFTA9",
        "source_team": "T5TCAFTA9",
        "user_profile": {
            "avatar_hash": "d79ba47b2952",
            "image_72": "https:\/\/avatars.slack-edge.com\/2018-08-03\/410049852848_d79ba47b2952e74a99d9_72.jpg",
            "first_name": "Brian",
            "real_name": "Brian Hempel",
            "display_name": "",
            "team": "T5TCAFTA9",
            "name": "brianhempel",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1543241688.079600",
        "parent_user_id": "U85MWBKEY",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Y36r",
                "elements": [
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Proto definitions would commonly expand to a hundred fields, all optional. So one often couldn’t look at another team’s proto definition and easily deduce the constraints, such as which fields had to exist together or be used disjointedly."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This is why API descriptions desperately need to embrace sum types (aka “variants” aka “tagged unions”). I’m still waiting for sum types to become more widely discovered outside of the FP community. JSON of course doesn’t have any first-class concept of sum types. Cap’n Proto does though (calls them “unions”), and it looks like you can do sums in Protocol Buffer using "
                            },
                            {
                                "type": "text",
                                "text": "oneof",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UCUSW7WVD",
        "type": "message",
        "ts": "1543423734.106300",
        "client_msg_id": "098325b9-42ab-43a2-96f5-7a401c59510f",
        "text": "Yes, newer systems use `oneof`. But a) we still have lots of legacy definitions, b) mistakes are hard to undo so you're stuck with them, and c) The situation is sometimes more complex than a simple `oneof`.\n\nI should add that my experience is anecdotal, and a year old at this point.",
        "team": "T5TCAFTA9",
        "user_team": "T5TCAFTA9",
        "source_team": "T5TCAFTA9",
        "user_profile": {
            "avatar_hash": "6e649a383cf8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-07-14\/687915485201_6e649a383cf8f9e366e3_72.png",
            "first_name": "Kartik",
            "real_name": "Kartik Agaram",
            "display_name": "",
            "team": "T5TCAFTA9",
            "name": "ak",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1543241688.079600",
        "parent_user_id": "U85MWBKEY",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gh4V",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes, newer systems use "
                            },
                            {
                                "type": "text",
                                "text": "oneof",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ". But a) we still have lots of legacy definitions, b) mistakes are hard to undo so you're stuck with them, and c) The situation is sometimes more complex than a simple "
                            },
                            {
                                "type": "text",
                                "text": "oneof",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".\n\nI should add that my experience is anecdotal, and a year old at this point."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UC21F8Q48",
                    "U85MWBKEY"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "UDYGH7K8V",
        "type": "message",
        "ts": "1543462948.106700",
        "client_msg_id": "01f19693-333f-47b9-b11d-1a3a237b02bd",
        "text": "<http:\/\/blog.fogus.me\/2018\/11\/27\/starboy\/>\nAn approach to reading new codebases",
        "team": "T5TCAFTA9",
        "user_team": "T5TCAFTA9",
        "source_team": "T5TCAFTA9",
        "user_profile": {
            "avatar_hash": "g961f7cede00",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/2961f7cede00f96aa9442898d24a5c4e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Dylan",
            "real_name": "Dylan Lederle-Ensign",
            "display_name": "",
            "team": "T5TCAFTA9",
            "name": "dylan.lederle.ensign",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1543240463.079200",
        "parent_user_id": "UDYGH7K8V",
        "attachments": [
            {
                "title": "fogus: Starboy",
                "title_link": "http:\/\/blog.fogus.me\/2018\/11\/27\/starboy\/",
                "text": "Pseudo-random ramblings from Fogus.",
                "fallback": "fogus: Starboy",
                "from_url": "http:\/\/blog.fogus.me\/2018\/11\/27\/starboy\/",
                "service_icon": "http:\/\/blog.fogus.me\/images\/labyrinth.ico",
                "service_name": "blog.fogus.me",
                "id": 1,
                "original_url": "http:\/\/blog.fogus.me\/2018\/11\/27\/starboy\/"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "o8=26",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "http:\/\/blog.fogus.me\/2018\/11\/27\/starboy\/"
                            },
                            {
                                "type": "text",
                                "text": "\nAn approach to reading new codebases"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]