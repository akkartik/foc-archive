<html>
<head><meta charset="UTF-8"></head><h2>Archives, <a href="https://futureofcoding.org/community">Future of Coding Community</a>, #thinking-together</h2>
  <table>
  <tr>
    <td style="width:72px; vertical-align:top; padding-bottom:1em">
      <img src="https://secure.gravatar.com/avatar/ce240a8e5a8fdc65e86bbb869975ccfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Will Crichton</b>
<span style="margin:2em; color:#606060">2019-10-18 09:52</span><br/>
Are there any GUI systems that have undo/redo baked into the semantics? Meaning a framework where you as the programmer define an action in a way that’s invertible by construction, and then the system can automatically build an undo/redo framework around your actions.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571418793.015900"></a>
      <img src="https://avatars.slack-edge.com/2020-02-11/947800888119_9e950179feb1f81e1123_72.jpg" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571418793.015900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Leonard Pauli</b>
<span style="margin:2em; color:#606060">2019-10-18 10:13</span><br/>
It's very early, but I'm working on one. All actions have reverse-actions, that return reverse-reverse-actions, while invocations build a tree structure/ history, thus allowing you to go back n fourth and around how much you want. You may also "group"/nest actions such that the undo granularity may be controlled.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571418863.017200"></a>
      <img src="https://avatars.slack-edge.com/2020-02-11/947800888119_9e950179feb1f81e1123_72.jpg" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571418863.017200" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Leonard Pauli</b>
<span style="margin:2em; color:#606060">2019-10-18 10:14</span><br/>
(this also found the basis for the version control + collab functionality)
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571418937.018400"></a>
      <img src="https://avatars.slack-edge.com/2020-02-11/947800888119_9e950179feb1f81e1123_72.jpg" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571418937.018400" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Leonard Pauli</b>
<span style="margin:2em; color:#606060">2019-10-18 10:15</span><br/>
Anything specific you're thinking about?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571419046.018600"></a>
      <img src="https://secure.gravatar.com/avatar/ce240a8e5a8fdc65e86bbb869975ccfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571419046.018600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Will Crichton</b>
<span style="margin:2em; color:#606060">2019-10-18 10:17</span><br/>
Does the programmer have to separately specify how actions work from reverse-actions, or can the reverse-action be derived from the action?
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571419240.022300"></a>
      <img src="https://avatars.slack-edge.com/2020-02-11/947800888119_9e950179feb1f81e1123_72.jpg" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571419240.022300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Leonard Pauli</b>
<span style="margin:2em; color:#606060">2019-10-18 10:20</span><br/>
Auto derived if building logic from existing actions w reverse functionality. When interacting with external services, eg. sending an sms, that action might not be easily undoed.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571419333.023300"></a>
      <img src="https://secure.gravatar.com/avatar/ce240a8e5a8fdc65e86bbb869975ccfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571419333.023300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Will Crichton</b>
<span style="margin:2em; color:#606060">2019-10-18 10:22</span><br/>
Sounds cool! Would love to see a prototype when you have one. I guess I’m thinking about this from the perspective of ML, where auto-differentiation has made a world of different in creating new models. It seems like a similar kind of program analysis could be super useful in easily creating direct manipulation interfaces with essential functionality like undo/redo.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571419367.023500"></a>
      <img src="https://secure.gravatar.com/avatar/ce240a8e5a8fdc65e86bbb869975ccfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571419367.023500" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Will Crichton</b>
<span style="margin:2em; color:#606060">2019-10-18 10:22</span><br/>
It makes sense that, for an arbitrary action defined in e.g. Python, there’s no obvious way to invert it. The autodiff folk get away with it because their basic operators are all high school calculus.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571422079.023800"></a>
      <img src="https://secure.gravatar.com/avatar/34185a5422416f82b3e4a62964f2866b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571422079.023800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Doug Moen</b>
<span style="margin:2em; color:#606060">2019-10-18 11:07</span><br/>
This used to be a common feature of GUI frameworks, years ago when I last worked with them. You use the Command design pattern, each command has an <tt>undo</tt> method, the undo stack is a stack of Command objects. <a href="https://en.wikipedia.org/wiki/Command_pattern">https://en.wikipedia.org/wiki/Command_pattern</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571422137.024100"></a>
      <img src="https://secure.gravatar.com/avatar/34185a5422416f82b3e4a62964f2866b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571422137.024100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Doug Moen</b>
<span style="margin:2em; color:#606060">2019-10-18 11:08</span><br/>
I just checked Qt, and it has an undo framework based on the Command pattern. <a href="https://doc.qt.io/qt-5/qundo.html">https://doc.qt.io/qt-5/qundo.html</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571422403.024300"></a>
      <img src="https://secure.gravatar.com/avatar/34185a5422416f82b3e4a62964f2866b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571422403.024300" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Doug Moen</b>
<span style="margin:2em; color:#606060">2019-10-18 11:13</span><br/>
Or... maybe a Command object is not what you meant by "invertible by construction".
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571427099.024900"></a>
      <img src="https://avatars.slack-edge.com/2019-02-05/542651515888_326328f75c3f2a08544c_72.jpg" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571427099.024900" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Edward de Jong</b>
<span style="margin:2em; color:#606060">2019-10-18 12:31</span><br/>
Undo/Redo is a fascinating subject. In Adobe Photoshop, they use the ability to undo actions stored in the history palette to great effect, and it is linked with their actions palette, which permits automation to a pretty high degree. however, their undo/redo doesn't affect the user interface, so when you undo a series of actions, you might have to undo whatever changes to the interface were done. In my kids program Flying Colors (available for free download at <a href="http://magicmouse.com">magicmouse.com</a>),  took reversibility all they way into interface, so that when you undo it also undoes the user interface. This also generated the possibility of having the software self-operate. A few products, very few, can do self-operation, and if you add audio narration, bingo you have a great lesson system. In my case it was about training young people to do bitmap painting. Having products self-operate is a wonderful training method, and the kind of ghost mode where there is an unseen hand moving the cursor and clicking is a fabulous way to teach. It was incredibly difficult to do though, and i haven't done it since. One area where i have continued research is in the issue of duplicating a customer problem in the lab. So often in web apps and interactive graphic software the customers hit a problem, report it, and because it can't be duplicated, it never gets fixed. So this is the problem i am solving in my Beads system, where i record the history, and the users can send that history and replay the bug at the factory. Not easy to to do actually, which is why you don't see it hardly at all.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571430862.029100"></a>
      <img src="https://avatars.slack-edge.com/2019-09-12/760980944038_2cbc18c8ae90630cd996_72.png" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571430862.029100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Parris</b>
<span style="margin:2em; color:#606060">2019-10-18 13:34</span><br/>
One other consideration - having implemented undo/redo in the past is - sometimes individual  "actions" shouldn't be "undoable" rather a batch of operations should be undoable. So simply recording individual operations and describing the reverse operation isn't enough. You end up needing to describe "undo points" to fast forward the operation. This is most obviously implemented in text editors. Try writing some words and hitting undo in slack :slightly_smiling_face:. Definitely not an insurmountable problem, but just another thing that makes undo/redo interesting to automate in the general case.
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571436615.030600"></a>
      <img src="https://avatars.slack-edge.com/2020-02-11/947800888119_9e950179feb1f81e1123_72.jpg" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571436615.030600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Leonard Pauli</b>
<span style="margin:2em; color:#606060">2019-10-18 15:10</span><br/>
<span style="background-color:#ccf">@Parris</span> Oh yes! There is a lot you could want from a history system, some notes:<br/>- undo/data + actions history tree<br/>      - separate "channels" (eg. UI, document data, analytics data) // eg. undoing should sometimes undo document data change, but not UI, sometimes both, etc<br/>      - nested grouping (eg. "drawing a line" is ("pen down", "pen move", "pen up"))<br/>        - possible to undo full "draw square", or just undo last "side", or even just last "pen up" and "pen move".<br/>      - reverse-reverse to allow reverse of one specific action after other actions performed (eg. not "undo last delete", nor "undo delete of XXX when it happened", but "undo delete of XXX now")<br/>        - all three variants should be possible?<br/>        - in extension, this "history tree" could be shared across clients, and thus form a basis for both the collab and version control functionality, as well as time-travel debugging and full replay (as in Edwards system above)
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571438362.030800"></a>
      <img src="https://avatars.slack-edge.com/2019-10-11/794439110727_c956630d6bd7ba8faafb_72.jpg" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571438362.030800" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Eric Casteleijn</b>
<span style="margin:2em; color:#606060">2019-10-18 15:39</span><br/>
I'm not sure you'd want to emulate it, but vim has a very interesting undo/redo model. <a href="https://vim.fandom.com/wiki/Using_undo_branches">https://vim.fandom.com/wiki/Using_undo_branches</a>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571465760.036100"></a>
      <img src="https://avatars.slack-edge.com/2021-03-22/1871363334903_cbd558604a21b23211c3_72.png" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571465760.036100" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>Breck Yunits</b>
<span style="margin:2em; color:#606060">2019-10-18 23:16</span><br/>
I just do a simple history[] stack of diffs and then "undo" just iterates through the stack applying each diff stopping at the desired step...Then you just need to call "save()" after each change operation and append to that stack
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top; padding-bottom:1em">
      <a name="1571627838.103600"></a>
      <img src="https://secure.gravatar.com/avatar/3ae6d55db9d15b79bc683a8031fc2588.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png" style="float:left"/>
      <a href="../thinking-together/1571417532.010400.html#1571627838.103600" style="color:#aaa">#</a>
    </td>
    <td style="vertical-align:top; padding-bottom:1em; padding-left:1em">
<b>William Taysom</b>
<span style="margin:2em; color:#606060">2019-10-20 20:17</span><br/>
Good point <span style="background-color:#ccf">@Parris</span> how the undo command often groups multiple actions together.  Text editors are also complicated by per file undo stacks coupled with cross file operations like find and replace.
    </td>
  </tr>
  </table>
<hr>
<a href="https://akkartik.name/foc-archive.zip">download this site</a> (~25MB)<br/>
<a href="https://github.com/akkartik/foc-archive">Git repo</a>
</html>
